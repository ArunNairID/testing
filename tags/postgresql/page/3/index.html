<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width">

  <title>
    
      Postgresql &middot; Baron Schwartz&#39;s Blog
    
  </title>

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  
  <meta name="og:title" content="Postgresql" />
  <meta name="og:type" content="article" />
  <meta name="og:image" content="https://www.xaprb.com/" />
  <meta name="og:description" content="" />
  <meta name="og:url" content="https://www.xaprb.com/tags/postgresql/" />
  <meta name="og:site_name" content="Baron Schwartz&#39;s Blog" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@xaprb" />

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/index.xml">

  
  <link rel="canonical" href="https://www.xaprb.com/tags/postgresql/">
  

  <script type="text/javascript" src='//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
</head>


  <body class="layout-reverse sidebar-overlay">

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
	  <p>Baron Schwartz&#39;s Blog &middot; Stay Curious!</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>
    <a class="sidebar-nav-item" href="/blog/">Posts</a>
    
        <a class="sidebar-nav-item" href="/about/">About Baron Schwartz</a>
    
        <a class="sidebar-nav-item" href="/essential-books/">Essential Books</a>
    
        <a class="sidebar-nav-item" href="/rx-toolkit/">Regex Toolkit</a>
    
        <a class="sidebar-nav-item" href="/blog/2013/12/18/secure-your-accounts-and-devices/">Staying Secure Online</a>
    
        <a class="sidebar-nav-item" href="/blog/2013/07/10/ultimate-notebook-and-journal-face-off/">The Ultimate Notebook</a>
    
        <a class="sidebar-nav-item" href="/blog/2015/03/07/ultimate-pen-marker-face-off/">The Ultimate Pen</a>
    
  </nav>

  <div class="sidebar-item">
	  <p>&copy; 2016 Baron Schwartz.
	  <br><a href="/index.xml">RSS Feed</a>, <a href="/about/">Contact</a>.<br>
	 <br>Powered by <a href="http://hugo.spf13.com">Hugo</a>,
	  <a href="https://www.netlify.com/">Netlify</a>,
	  <a href="https://forestry.io/">Forestry</a>,
	  <a href="https://github.com/xaprb/xaprb-src/">GitHub</a>,
	  <a href="https://disqus.com">Disqus</a>,
	  <a href="https://swiftype.com/">Swiftype</a>.
	</p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Baron Schwartz&#39;s Blog</a>
          </h3>
        </div>
      </div>

      <div class="container content">


<div class="posts">
	
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/05/25/a-better-way-to-build-cacti-templates/">A better way to build Cacti templates</a></h1>
        <span class="post-date">Tue, May 25, 2010</span>
        The traditional way to build Cacti templates is through the Cacti web interface. This is an enormous amount of work, and the result is generally not very consistent or good quality. The process is too error-prone. You can export the templates as XML, but they tend to have problems such as version incompatibilities with other Cacti installations, and it&rsquo;s hard to adapt them for user preferences such as different graph image sizes and polling intervals.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/05/25/a-better-way-to-build-cacti-templates/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/05/25/dirty-pages-fast-shutdown-and-write-combining/">Dirty pages, fast shutdown, and write combining</a></h1>
        <span class="post-date">Tue, May 25, 2010</span>
        <p>One of the things that makes a traditional transactional database hard to make highly available is a relatively slow shutdown and start-up time. Applications typically delegate most or all writes to the database, which tends to run with a lot of &ldquo;dirty&rdquo; data in its (often large) memory. At shutdown time, the dirty memory needs to be written to disk, so the recovery routine doesn&rsquo;t have to run at startup. And even upon a clean startup, the database probably has to warm up, which can also take a very long time.</p>

<p><img src="/media/2010/05/ligatures.jpg" alt="Ligatures" /></p>

<p>Some databases let the operating system handle most of their memory management needs. This has its own challenges, especially if the <a href="http://blog.2ndquadrant.com/en/2010/05/postgresql-freebsd-and-free-do.html">operating system&rsquo;s design doesn&rsquo;t align exactly with the database&rsquo;s goals</a>.</p>

<p></p>
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/05/25/dirty-pages-fast-shutdown-and-write-combining/"> &raquo; Continue Reading (about 1300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/05/12/optimal-performance-out-of-the-box/">Optimal performance out of the box!</a></h1>
        <span class="post-date">Wed, May 12, 2010</span>
        Most database companies would be proud to say that their products perform optimally out of the box. It means they accomplished a Herculean feat of engineering. But most databases have configuration options because this is almost impossible. For example, MySQL has scores of tuning options, and it needs a lot more.
So when someone benchmarks your database and makes you look bad, usually you can say &ldquo;that benchmark was run by someone who doesn&rsquo;t know how to properly tune my database software.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/05/12/optimal-performance-out-of-the-box/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/04/20/version-1-1-7-of-better-cacti-templates-released/">Version 1.1.7 of Better Cacti Templates released</a></h1>
        <span class="post-date">Tue, Apr 20, 2010</span>
        I&rsquo;ve released version 1.1.7 of the Better Cacti Templates project. This release includes a bunch of bug fixes, some new graphs for MySQL, and two new sets of graphs, for Redis graphing and for JMX graphing.
 VividCortex is the startup I founded in 2012. It&rsquo;s the easiest way to monitor what your servers are doing in production and I consider it far superior to Cacti. VividCortex offers MySQL performance monitoring and PostgreSQL performance management among many other features.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/04/20/version-1-1-7-of-better-cacti-templates-released/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/04/10/brian-aker-20gb-doesnt-fit-on-a-single-server/">Brian Aker: 20GB doesn&#39;t fit on a single server</a></h1>
        <span class="post-date">Sat, Apr 10, 2010</span>
        Brian got interviewed by O&rsquo;Relly recently, and part of it quoted him as saying this:
 When everything doesn&rsquo;t fit onto a computer, you have to be able to migrate data to multiple nodes. You need some sort of scaling solution there&hellip; MapReduce works as a solution when your queries are operating over a lot of data; Google sizes of data. Few companies have Google-sized datasets though. The average sites you see, they&rsquo;re 10-20 gigs of data.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/04/10/brian-aker-20gb-doesnt-fit-on-a-single-server/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/03/30/slides-from-my-session-on-mk-query-digest-at-pgeast-2010/">Slides from my session on mk-query-digest at PgEast 2010</a></h1>
        <span class="post-date">Tue, Mar 30, 2010</span>
        After two years of just attending and heckling, this time I attended, heckled and presented! Here are the slides from my session demonstrating mk-query-digest&rsquo;s new PostgreSQL log-parsing functionality, which I gave at PgEast 2010 this past weekend. (Great conference, by the way.)
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/03/30/slides-from-my-session-on-mk-query-digest-at-pgeast-2010/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/03/28/the-need-for-tunability-and-measurability/">The need for tunability and measurability</a></h1>
        <span class="post-date">Sun, Mar 28, 2010</span>
        To program is human, to instrument is divine. Complex systems that will support a heavy workload will eventually have to be tuned for it. There are two prerequisites for tuning: tunability, and measurability.
Tunability generally means configuration settings. Adding configuration settings is a sign of a humble and wise programmer. It means that the programmer acknowledges &ldquo;I don&rsquo;t understand how this system will be used, what environment it will run in, or even what my code really does.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/03/28/the-need-for-tunability-and-measurability/"> &raquo; Continue Reading (about 600 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/03/08/nosql-doesnt-mean-non-relational/">NoSQL doesn&#39;t mean non-relational</a></h1>
        <span class="post-date">Mon, Mar 8, 2010</span>
        It seems that a lot of people equate non-SQL databases with non-relational-ness, or malign the word relational. This is pretty much pure ignorance. If you&rsquo;ve ever uttered a sentence that includes the phrase &ldquo;&hellip;non-relational database&hellip;&rdquo; then I have two suggestions for you.
 Study relational algebra. At a bare minimum, read the Wikipedia article on relational algebra. There is much more you could do &ndash; take a class on the topic, or read C.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/03/08/nosql-doesnt-mean-non-relational/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/02/22/cary-millsap-thinking-clearly-about-performance/">Cary Millsap: Thinking Clearly about Performance</a></h1>
        <span class="post-date">Mon, Feb 22, 2010</span>
        Cary Millsap has a concise, readable paper on performance. Anyone involved in database performance optimization should read it. Cary&rsquo;s writing has heavily influenced the mk-query-digest tool for analyzing MySQL/PostgreSQL/Memcached/HTTP query performance, and I think you&rsquo;ll get a lot more from mk-query-digest if you read this paper &ndash; and you should also read his book, reviewed here. It&rsquo;s one of the top books on my Essential Books List.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/02/22/cary-millsap-thinking-clearly-about-performance/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/02/20/learn-about-mk-query-digest-at-pgeast-2010/">Learn about mk-query-digest at PgEast 2010</a></h1>
        <span class="post-date">Sat, Feb 20, 2010</span>
        I&rsquo;ll be attending PgEast this year, as I&rsquo;ve done for the last couple of years, and this year I&rsquo;ll also be speaking. The topic is query analysis with mk-query-digest. The official description of my talk is as follows:
 mk-query-digest is a powerful open-source tool for capturing, filtering, transforming, and aggregating queries, with the ability to do all sorts of other advanced tasks too. By default, it aggregates similar queries together and presents a designed-for-DBAs report with statistics about the most important queries, so you can see where to focus your optimization efforts.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/02/20/learn-about-mk-query-digest-at-pgeast-2010/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/02/20/mk-query-digest-now-supports-postgres-logs/">mk-query-digest now supports Postgres logs</a></h1>
        <span class="post-date">Sat, Feb 20, 2010</span>
        Maatkit does more than just MySQL. I&rsquo;ve just committed a new version of mk-query-digest, a powerful log analysis tool, with support for Posgtres logs, in both syslog and stderr format. I&rsquo;m hoping that people will give this a spin in the real world. I have lots of test cases, but that&rsquo;s never enough; I&rsquo;m looking for people to crunch their logs and let me know if anything breaks.
A brief tutorial:
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/02/20/mk-query-digest-now-supports-postgres-logs/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/02/08/how-postgresql-protects-against-partial-page-writes-and-data-corruption/">How PostgreSQL protects against partial page writes and data corruption</a></h1>
        <span class="post-date">Mon, Feb 8, 2010</span>
        I explored two interesting topics today while learning more about Postgres.
Partial page writes PostgreSQL&rsquo;s partial page write protection is configured by the following setting, which defaults to &ldquo;on&rdquo;:
 full_page_writes (boolean)
When this parameter is on, the PostgreSQL server writes the entire content of each disk page to WAL during the first modification of that page after a checkpoint… Storing the full page image guarantees that the page can be correctly restored, but at a price in increasing the amount of data that must be written to WAL.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/02/08/how-postgresql-protects-against-partial-page-writes-and-data-corruption/"> &raquo; Continue Reading (about 800 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/01/22/my-wishlist-for-sql-the-until-clause/">My wishlist for SQL: the UNTIL clause</a></h1>
        <span class="post-date">Fri, Jan 22, 2010</span>
        I&rsquo;d like an UNTIL clause, please. I&rsquo;d use it sort of like LIMIT in MySQL and PostgreSQL, except that it would define when to stop returning looking for rows, instead of defining how many to return. Example:
SELECT * FROM users ORDER BY user_id UNTIL user_id = 100; That would select users up to and including user 99. Ideally the clause could accept any boolean predicate, including subqueries. I&rsquo;ll hold my breath and wait for this wish to come true now.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/01/22/my-wishlist-for-sql-the-until-clause/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/01/10/version-1-1-6-of-better-cacti-templates-released/">Version 1.1.6 of Better Cacti Templates released</a></h1>
        <span class="post-date">Sun, Jan 10, 2010</span>
        I&rsquo;ve released version 1.1.6 of the Better Cacti Templates project. This release includes a bunch of bug fixes (but not all of them!) and two new sets of graphs. One set is for disk I/O on GNU/Linux, and the other is a new set of templates for OpenVZ. I&rsquo;m looking for feedback on both of those. This release also has a bunch of code-level features: much better test coverage (hooray!), and a refactored ss_get_by_ssh.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/01/10/version-1-1-6-of-better-cacti-templates-released/"> &raquo; Continue Reading (about 400 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/01/09/review-cacti-network-monitoring-kundu-lavlu/">A Review of Cacti Network Monitoring by Kundu and Lavlu</a></h1>
        <span class="post-date">Sat, Jan 9, 2010</span>
        VividCortex is the startup I founded in 2012. It&rsquo;s the easiest way to monitor what your servers are doing in production and I consider it far superior to Cacti. VividCortex offers MySQL performance monitoring and PostgreSQL performance management among many other features.
 Cacti 0.8 Network Monitoring, Dinangkur Kundu and S. M. Ibrahim Lavlu, Packt, 2009. Page count: 110 pages.
This is a quite short book that covers some of the breadth but very little of the depth of Cacti.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/01/09/review-cacti-network-monitoring-kundu-lavlu/"> &raquo; Continue Reading (about 400 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/01/09/how-linux-iostat-computes-its-results/">How Linux iostat Computes Metrics</a></h1>
        <span class="post-date">Sat, Jan 9, 2010</span>
        <p>The <code>iostat</code> tool is one of the most important for measuring disk performance, which of course is very relevant for database administrators, whether your chosen database is Postgres, MySQL, Oracle, or anything else that runs on GNU/Linux. Have you ever wondered where statistics like await (average wait for the request to complete) come from? If you look at the disk statistics the <a href="http://www.mjmwired.net/kernel/Documentation/iostats.txt">Linux kernel makes available through files such as /proc/diskstats</a>, you won&rsquo;t see await there. How does iostat compute await? For that matter, how does it compute the average queue size, service time, and utilization? This blog post will show you how that&rsquo;s computed.</p>

<p><img src="/media/2010/01/layers.jpg" alt="Layers" /></p>

<p></p>
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/01/09/how-linux-iostat-computes-its-results/"> &raquo; Continue Reading (about 1100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/12/31/a-simple-way-to-make-birthday-queries-easier-and-faster/">A simple way to make birthday queries easier and faster</a></h1>
        <span class="post-date">Thu, Dec 31, 2009</span>
        It&rsquo;s New Year&rsquo;s Eve, a date that should strike terror into the hearts of many, because tomorrow a bunch of their queries are going to fail.
Queries to &ldquo;find all birthdays in the next week&rdquo; and similar are always a nightmare to write. If you want to see a bunch of examples, go look at the user-contributed comments on the MySQL date and time function reference. This post is about a slightly saner way to do that.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/12/31/a-simple-way-to-make-birthday-queries-easier-and-faster/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/12/30/vote-for-cacti-template-enhancements/">Vote for Cacti template enhancements</a></h1>
        <span class="post-date">Wed, Dec 30, 2009</span>
        If you&rsquo;d like some improvements to the Cacti templates (MySQL, Apache, Memcached, and more) I&rsquo;ve been maintaining, please make your voice heard &ndash; either write to the mailing list, or post a new issue (or comment on an existing one) on the issue list. I&rsquo;ve got a bunch of work underway, including a test suite for ss_get_by_ssh.php.
 VividCortex is the startup I founded in 2012. It&rsquo;s the easiest way to monitor what your servers are doing in production and I consider it far superior to Cacti.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/12/30/vote-for-cacti-template-enhancements/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/12/13/version-1-1-5-of-improved-cacti-templates-released/">Version 1.1.5 of improved Cacti templates released</a></h1>
        <span class="post-date">Sun, Dec 13, 2009</span>
        I&rsquo;ve released version 1.1.5 of my improved Cacti templates for MySQL and other components of a LAMP application. This is a pure bug-fix release. One of the bug fixes prevents spikes in graphs, but requires you to rebuild your RRD files. There are upgrade instructions on the project wiki for this and all releases. Use the project issue tracker to view and report issues, and use the project mailing list to discuss the templates and scripts.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/12/13/version-1-1-5-of-improved-cacti-templates-released/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/11/19/how-to-tell-if-someone-is-bullshitting/">How to tell if someone is bullshitting</a></h1>
        <span class="post-date">Thu, Nov 19, 2009</span>
        Ever been around a group of people discussing some technology and heard Cool-Whip phrases like this?
 It&rsquo;s not about MySQL versus PostgreSQL, it&rsquo;s about using the right tool for the job.
 Or how about this one?
 You need to take the important factors into account before you decide whether [hot new fad] or [trusty old solution] is best suited for your application.
 Both are signs that someone might be trying to sound important.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/11/19/how-to-tell-if-someone-is-bullshitting/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
</div>


<div class="pagination">
  
    <a class="pagination-item newer" href="/tags/postgresql/page/2/">Newer</a>
  
  
    <a class="pagination-item older" href="/tags/postgresql/page/4/">Older</a>
  
</div>



      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>


<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

  _st('install','Dq2t2TnFxXxWs_y9hi1k');
</script>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-101883-1', 'auto');
  ga('send', 'pageview');

</script>



  </body>
</html>

