<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width">

  <title>
    
      Databases &middot; Baron Schwartz&#39;s Blog
    
  </title>

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  
  <meta name="og:title" content="Databases" />
  <meta name="og:type" content="article" />
  <meta name="og:image" content="https://www.xaprb.com/" />
  <meta name="og:description" content="" />
  <meta name="og:url" content="https://www.xaprb.com/categories/databases/" />
  <meta name="og:site_name" content="Baron Schwartz&#39;s Blog" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@xaprb" />

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/index.xml">

  
  <link rel="canonical" href="https://www.xaprb.com/categories/databases/">
  

  <script type="text/javascript" src='//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
</head>


  <body class="layout-reverse sidebar-overlay">

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
	  <p>Baron Schwartz&#39;s Blog &middot; Stay Curious!</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>
    <a class="sidebar-nav-item" href="/blog/">Posts</a>
    
        <a class="sidebar-nav-item" href="/about/">About Baron Schwartz</a>
    
        <a class="sidebar-nav-item" href="/essential-books/">Essential Books</a>
    
        <a class="sidebar-nav-item" href="/rx-toolkit/">Regex Toolkit</a>
    
        <a class="sidebar-nav-item" href="/blog/2013/12/18/secure-your-accounts-and-devices/">Staying Secure Online</a>
    
        <a class="sidebar-nav-item" href="/blog/2013/07/10/ultimate-notebook-and-journal-face-off/">The Ultimate Notebook</a>
    
        <a class="sidebar-nav-item" href="/blog/2015/03/07/ultimate-pen-marker-face-off/">The Ultimate Pen</a>
    
  </nav>

  <div class="sidebar-item">
	  <p>&copy; 2016 Baron Schwartz.
	  <br><a href="/index.xml">RSS Feed</a>, <a href="/about/">Contact</a>.<br>
	 <br>Powered by <a href="http://hugo.spf13.com">Hugo</a>,
	  <a href="https://www.netlify.com/">Netlify</a>,
	  <a href="https://forestry.io/">Forestry</a>,
	  <a href="https://github.com/xaprb/xaprb-src/">GitHub</a>,
	  <a href="https://disqus.com">Disqus</a>,
	  <a href="https://swiftype.com/">Swiftype</a>.
	</p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Baron Schwartz&#39;s Blog</a>
          </h3>
        </div>
      </div>

      <div class="container content">


<div class="posts">
	
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/10/29/making-changes-to-many-tables-at-once/">Making changes to many tables at once</a></h1>
        <span class="post-date">Thu, Oct 29, 2009</span>
        As an alternative to another recent blog post that answered the question &ldquo;how can I truncate all the tables in my database,&rdquo; I thought I&rsquo;d show another way to do it, which does not use the INFORMATION_SCHEMA.
$ wget http://www.maatkit.org/get/mk-find $ perl mk-find --exec 'TRUNCATE TABLE %D.%N'  The other example is how to alter MyISAM tables to be InnoDB. That one&rsquo;s easy, too. Let&rsquo;s alter all MyISAM tables in the &lsquo;test&rsquo; database:
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/10/29/making-changes-to-many-tables-at-once/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/10/25/version-1-1-4-of-improved-cacti-templates-released/">Version 1.1.4 of improved Cacti templates released</a></h1>
        <span class="post-date">Sun, Oct 25, 2009</span>
        I&rsquo;ve released version 1.1.4 of my improved Cacti templates. Unlike the prior release, which was solely bug fixes, this one includes new graphs in the MySQL template. Some of the graphs are of data that&rsquo;s exposed in standard MySQL versions, but some of it is available only in Percona&rsquo;s high-performance builds of the MySQL database server. If you don&rsquo;t have a Percona build, those graphs will just contain nothing, but there is no detrimental effect.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/10/25/version-1-1-4-of-improved-cacti-templates-released/"> &raquo; Continue Reading (about 500 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/10/25/what-do-the-innodb-insert-buffer-statistics-mean/">What do the InnoDB insert buffer statistics mean?</a></h1>
        <span class="post-date">Sun, Oct 25, 2009</span>
        Ever seen this in SHOW INNODB STATUS and wondered what it means?
 ------------------------------------- INSERT BUFFER AND ADAPTIVE HASH INDEX ------------------------------------- Ibuf: size 1, free list len 4634, seg size 4636,  I&rsquo;ve never been quite sure, and Peter didn&rsquo;t really clarify things himself, so I took a look at the source. If I&rsquo;m not mistaken, the seg size is really one more than the number of records the insert buffer can hold, the free list length is the number that aren&rsquo;t in use, and the size is just seg_size - (1 + free_list_len).
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/10/25/what-do-the-innodb-insert-buffer-statistics-mean/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/10/24/a-review-of-the-art-of-capacity-planning-by-john-allspaw/">A review of The Art of Capacity Planning by John Allspaw</a></h1>
        <span class="post-date">Sat, Oct 24, 2009</span>
        The Art of Capacity Planning  The Art of Capacity Planning. By John Allspaw, O&rsquo;Reilly 2008. Page count: 130 pages. (Here&rsquo;s a link to the publisher&rsquo;s site.)
This is an outstanding book. As far as I know Ewen Fortune was the first Perconian to read it, and it&rsquo;s been spreading amongst us since then. I got my copy last week, and read it last night when I couldn&rsquo;t sleep for some reason.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/10/24/a-review-of-the-art-of-capacity-planning-by-john-allspaw/"> &raquo; Continue Reading (about 600 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/10/24/version-1-1-3-of-improved-cacti-graphs-for-mysql-released/">Version 1.1.3 of improved Cacti graphs for MySQL released</a></h1>
        <span class="post-date">Sat, Oct 24, 2009</span>
        I&rsquo;ve just released version 1.1.3 of the Cacti templates I wrote for MySQL. This is a bug-fix release only, and affects only ss_get_mysql_stats.php. To upgrade from the previous release, upgrade ss_get_mysql_stats.php. Don&rsquo;t forget to save and restore your configuration options, if any. (Note that there is a feature to help with this: you can keep configuration options in ss_get_mysql_stats.php.cnf to avoid making them in ss_get_mysql_stats.php.)
 VividCortex is the startup I founded in 2012.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/10/24/version-1-1-3-of-improved-cacti-graphs-for-mysql-released/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/10/21/how-to-capture-debugging-information-with-mk-loadavg/">How to capture debugging information with mk-loadavg</a></h1>
        <span class="post-date">Wed, Oct 21, 2009</span>
        Maatkit&rsquo;s mk-loadavg tool is a helpful way to gather information about infrequent conditions on your database server (or any other server, really). We wrote it at Percona to help with those repeated cases of things like &ldquo;every two weeks, my database stops processing queries for 30 seconds, but it&rsquo;s not locked up and during this time there is nothing happening.&rdquo; That&rsquo;s pretty much impossible to catch in action, and these conditions can take months to resolve without the aid of good tools.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/10/21/how-to-capture-debugging-information-with-mk-loadavg/"> &raquo; Continue Reading (about 600 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/10/19/going-to-opensql-camp-us-2009/">Going to OpenSQL Camp US 2009</a></h1>
        <span class="post-date">Mon, Oct 19, 2009</span>
        I&rsquo;ve bought my plane tickets for OpenSQL Camp US 2009, in Portland, Oregon on the weekend of November 14th. I&rsquo;m really looking forward to the event and seeing friends again. And I&rsquo;m psyched that the third incarnation of this event is taking place! I wish I could have been at the 2nd one too, earlier this year in Europe.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/10/19/going-to-opensql-camp-us-2009/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/10/18/recap-of-cposc-2009-plus-slides/">Recap of CPOSC 2009, plus slides</a></h1>
        <span class="post-date">Sun, Oct 18, 2009</span>
        Yesterday I attended CPOSC 2009. The conference was great. It was very well run, and I liked the sessions. I would definitely attend this conference again, and will recommend that Percona sponsor it next year. I attended the following talks:
 Stop Worrying and Start Monitoring with Nagios (Andrew Libby) DRBD, Network Raid, High Availability and General Awesomeness (Brian Gorka) MySQL Performance Tuning for non-DBAs (Tom Clark) Wonderful Desktop Tricks, and Aesthetics (Seth Jerome) Jump Start Django: The Web Framework for Perfectionists with Deadlines (Rob Yates) Watching and Manipulating Your Network Traffic (Josiah Ritchie)  And then of course I gave my own talk on Maatkit (slides).
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/10/18/recap-of-cposc-2009-plus-slides/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/10/15/a-tip-when-upgrading-mysql-cacti-templates/">A tip when upgrading mysql-cacti-templates</a></h1>
        <span class="post-date">Thu, Oct 15, 2009</span>
        A client recently asked me to fix some Cacti graphs that had broken after upgrading the Cacti templates I wrote for MySQL. The symptoms were weird; I&rsquo;m not sure I understand fully what happened, but some of the graphs were OK and some had only part of the data they were supposed to. Some graphs would have one data element as usual, and others would be nan (not a number).
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/10/15/a-tip-when-upgrading-mysql-cacti-templates/"> &raquo; Continue Reading (about 500 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/10/13/using-mext-to-format-saved-mysqladmin-output-nicely/">Using mext to format saved mysqladmin output nicely</a></h1>
        <span class="post-date">Tue, Oct 13, 2009</span>
        I wrote a while ago about how mext works &ndash; it runs &ldquo;mysqladmin extended-status&rdquo; and formats it nicely. But what if you want to use it to format saved output that you&rsquo;ve put into a file? It&rsquo;s actually very easy. You can tell it what command-line to run to generate its input. By default you are probably going to tell it to run &ldquo;mysqladmin ext -ri10&#8243; or something like that, but you can just as easily make it run &ldquo;cat my-saved-output&rdquo;.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/10/13/using-mext-to-format-saved-mysqladmin-output-nicely/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/10/05/speaking-at-cposc-2009/">Speaking at CPOSC 2009</a></h1>
        <span class="post-date">Mon, Oct 5, 2009</span>
        I&rsquo;ll be attending and presenting at the 2009 Central Pennsylvania Open-Source Conference. My session is on Maatkit. I see Tom Clark has a session on MySQL performance! I hope to see you there &ndash; I&rsquo;ve really become a fan of these regional conferences.
By the way, I&rsquo;ve also created a speaker badge by adapting a wallpaper someone else made &ndash; you can find it on the sidebar of my blog if you&rsquo;re also a speaker.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/10/05/speaking-at-cposc-2009/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/10/05/speaking-at-enterprise-lamp-summit-2009/">Speaking at Enterprise LAMP Summit 2009</a></h1>
        <span class="post-date">Mon, Oct 5, 2009</span>
        I am speaking at Enterprise LAMP Summit 2009 (and also should be speaking at the Camp the next day, but I see the schedule isn&rsquo;t quite updated yet). My talk at the Summit will not be on the future landscape of MySQL &ndash; that&rsquo;s a mistake. My talk&rsquo;s title isn&rsquo;t finalized yet.
This conference is the first weekend in November, in the Nashville area. I hope to see you there!
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/10/05/speaking-at-enterprise-lamp-summit-2009/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/09/29/what-data-types-does-your-innovative-storage-engine-not-support/">What data types does your innovative storage engine NOT support?</a></h1>
        <span class="post-date">Tue, Sep 29, 2009</span>
        I&rsquo;ve been investigating a few different storage engines for MySQL lately, and something I&rsquo;ve noticed is that they all list what they support, but they generally don&rsquo;t say what they don&rsquo;t support. For example, Infobright&rsquo;s documentation shows a list of every data type supported. What&rsquo;s missing? Hmm, I don&rsquo;t see BLOB, BIT, ENUM, SET&hellip; it&rsquo;s kind of hard to tell. The same thing is true of the list of functions that are optimized inside Infobright&rsquo;s own code instead of at the server layer.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/09/29/what-data-types-does-your-innovative-storage-engine-not-support/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/09/20/observations-on-key-value-databases/">Observations on key-value databases</a></h1>
        <span class="post-date">Sun, Sep 20, 2009</span>
        Key-value databases are catching fire these days. Memcached, Redis, Cassandra, Keyspace, Tokyo Tyrant, and a handful of others are surging in popularity, judging by the contents of my feed reader.
I find a number of things interesting about these tools.
 There are many more of them than open-source traditional relational databases. (edit: I mean that there are many options that all seem similar to each other, instead of 3 or 4 standing out as the giants.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/09/20/observations-on-key-value-databases/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/09/15/a-fun-use-of-substring_index-and-friends-in-mysql/">A fun use of SUBSTRING_INDEX and friends in MySQL</a></h1>
        <span class="post-date">Tue, Sep 15, 2009</span>
        I used to develop with MySQL, and those were the golden days. These days I don&rsquo;t write queries so much. But yesterday I needed to answer this question: are there any issues in our issue-tracking system that meet the following criteria?
 The last two or more emails are from the customer These emails were separated by at least two hours (i.e. it wasn&rsquo;t a single train of thought)  I could do it with all kinds of correlated subqueries and so on &ndash; but maybe I could also just do it without them, no?
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/09/15/a-fun-use-of-substring_index-and-friends-in-mysql/"> &raquo; Continue Reading (about 700 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/09/12/the-difference-between-a-unique-index-and-primary-key-in-mysql/">The difference between a unique index and primary key in MySQL</a></h1>
        <span class="post-date">Sat, Sep 12, 2009</span>
        There&rsquo;s a really important difference between a unique index (MySQL&rsquo;s answer to a &ldquo;unique constraint&rdquo;) and a primary key in MySQL. Please take a look at this:
CREATE TABLE `t` ( `a` int, `b` int, `c` int, UNIQUE KEY `a` (`a`,`b`) ) The combination of columns a, b should uniquely identify any tuple in the table, right?
select * from t; +------+------+------+ | a | b | c | +------+------+------+ | 1 | 2 | 3 | | NULL | NULL | 1 | | NULL | NULL | 1 | | NULL | NULL | 1 | +------+------+------+  Wrong.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/09/12/the-difference-between-a-unique-index-and-primary-key-in-mysql/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/09/01/a-script-snippet-to-relative-ize-numbers-embedded-in-text/">A script snippet to relative-ize numbers embedded in text</a></h1>
        <span class="post-date">Tue, Sep 1, 2009</span>
        A lot of times I&rsquo;m looking at several time-series samples of numbers embedded in free-form text, and I want to know how the numbers change over time. For example, two samples of SHOW INNODB STATUS piped through grep wait might contain the following:
Mutex spin waits 0, rounds 143359179688, OS waits 634106844 RW-shared spins 1224152309, OS waits 38278807; RW-excl spins 2432166425, OS waits 35264871 Mutex spin waits 0, rounds 143386303439, OS waits 634292093 RW-shared spins 1224197048, OS waits 38281423; RW-excl spins 2432347936, OS waits 35271423 How much have the numbers changed in the second sample?
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/09/01/a-script-snippet-to-relative-ize-numbers-embedded-in-text/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/08/30/a-script-snippet-for-aggregating-gdb-backtraces/">A script snippet for aggregating GDB backtraces</a></h1>
        <span class="post-date">Sun, Aug 30, 2009</span>
        Note: the bt-aggregate tool has been deprecated and replaced by the pmp tool, which can do all that and more.
A short time ago in a galaxy nearby, Domas Mituzas wrote about contention profiling with GDB stack traces. Mark Callaghan found the technique useful, and contributed an awk script (in the comments) to aggregate stack traces and identify which things are blocking most threads. I&rsquo;ve used it myself a time or five.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/08/30/a-script-snippet-for-aggregating-gdb-backtraces/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/08/30/failure-scenarios-and-solutions-in-master-master-replication/">Failure scenarios and solutions in master-master replication</a></h1>
        <span class="post-date">Sun, Aug 30, 2009</span>
        I&rsquo;ve been thinking recently about the failure scenarios of MySQL replication clusters, such as master-master pairs or master-master-with-slaves. There are a few tools that are designed to help manage failover and load balancing in such clusters, by moving virtual IP addresses around. The ones I&rsquo;m familiar with don&rsquo;t always do the right thing when an irregularity is detected. I&rsquo;ve been debating what the best way to do replication clustering with automatic failover really is.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/08/30/failure-scenarios-and-solutions-in-master-master-replication/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2009/08/29/opensql-camp-events-in-2009/">OpenSQL Camp events in 2009</a></h1>
        <span class="post-date">Sat, Aug 29, 2009</span>
        There are two OpenSQL Camp events in 2009. This is a conference about any and all open-source databases. The slogan of the inaugural event was &ldquo;of, by, and for the community.&rdquo;
The first of this year&rsquo;s events just ended last weekend in Germany, and I&rsquo;m really sad that neither I nor anyone else from Percona could attend. But fortunately the amazing crew of organizers has already posted videos of the sessions!
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2009/08/29/opensql-camp-events-in-2009/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
</div>


<div class="pagination">
  
    <a class="pagination-item newer" href="/categories/databases/page/18/">Newer</a>
  
  
    <a class="pagination-item older" href="/categories/databases/page/20/">Older</a>
  
</div>



      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>


<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

  _st('install','Dq2t2TnFxXxWs_y9hi1k');
</script>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-101883-1', 'auto');
  ga('send', 'pageview');

</script>



  </body>
</html>

