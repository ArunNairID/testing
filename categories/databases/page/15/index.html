<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width">

  <title>
    
      Databases &middot; Baron Schwartz&#39;s Blog
    
  </title>

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  
  <meta name="og:title" content="Databases" />
  <meta name="og:type" content="article" />
  <meta name="og:image" content="https://www.xaprb.com/" />
  <meta name="og:description" content="" />
  <meta name="og:url" content="https://www.xaprb.com/categories/databases/" />
  <meta name="og:site_name" content="Baron Schwartz&#39;s Blog" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@xaprb" />

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/index.xml">

  
  <link rel="canonical" href="https://www.xaprb.com/categories/databases/">
  

  <script type="text/javascript" src='//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
</head>


  <body class="layout-reverse sidebar-overlay">

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
	  <p>Baron Schwartz&#39;s Blog &middot; Stay Curious!</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>
    <a class="sidebar-nav-item" href="/blog/">Posts</a>
    
        <a class="sidebar-nav-item" href="/about/">About Baron Schwartz</a>
    
        <a class="sidebar-nav-item" href="/essential-books/">Essential Books</a>
    
        <a class="sidebar-nav-item" href="/rx-toolkit/">Regex Toolkit</a>
    
        <a class="sidebar-nav-item" href="/blog/2013/12/18/secure-your-accounts-and-devices/">Staying Secure Online</a>
    
        <a class="sidebar-nav-item" href="/blog/2013/07/10/ultimate-notebook-and-journal-face-off/">The Ultimate Notebook</a>
    
        <a class="sidebar-nav-item" href="/blog/2015/03/07/ultimate-pen-marker-face-off/">The Ultimate Pen</a>
    
  </nav>

  <div class="sidebar-item">
	  <p>&copy; 2016 Baron Schwartz.
	  <br><a href="/index.xml">RSS Feed</a>, <a href="/about/">Contact</a>.<br>
	 <br>Powered by <a href="http://hugo.spf13.com">Hugo</a>,
	  <a href="https://www.netlify.com/">Netlify</a>,
	  <a href="https://forestry.io/">Forestry</a>,
	  <a href="https://github.com/xaprb/xaprb-src/">GitHub</a>,
	  <a href="https://disqus.com">Disqus</a>,
	  <a href="https://swiftype.com/">Swiftype</a>.
	</p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Baron Schwartz&#39;s Blog</a>
          </h3>
        </div>
      </div>

      <div class="container content">


<div class="posts">
	
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/06/29/theres-a-european-opensql-camp-coming-up/">There&#39;s a European OpenSQL Camp coming up</a></h1>
        <span class="post-date">Tue, Jun 29, 2010</span>
        In addition to the Boston edition, there&rsquo;s an OpenSQL Camp at the same time and place as FrOSCon mid-August in Germany. The call for papers is open until July 11th. As always, the conference is about all kinds of open-source databases: MySQL and PostgreSQL are only two of the obvious ones; MongoDB and Cassandra featured prominently at the last one I attended, and SQLite was well represented at the first one.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/06/29/theres-a-european-opensql-camp-coming-up/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/06/25/opensql-camp-boston-2010/">OpenSQL Camp Boston 2010</a></h1>
        <span class="post-date">Fri, Jun 25, 2010</span>
        Sheeri and others are organizing another incarnation of OpenSQL Camp in October in Boston. You ought to go! It&rsquo;s relevant to MySQL, PostgreSQL, SQLite, and lots of the newer generation of databases &ndash; MongoDB, Cassandra, and so on.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/06/25/opensql-camp-boston-2010/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/06/19/the-little-known-maatkit-man-page/">The little-known Maatkit man page</a></h1>
        <span class="post-date">Sat, Jun 19, 2010</span>
        The Maatkit toolkit for MySQL has a lot of functionality that&rsquo;s common across the tools. It&rsquo;s not a good idea to document this in each tool&rsquo;s man page, of course. So there is an overall maatkit man page. It explains concepts such as configuration file syntax. This and all the other Maatkit man pages are online.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/06/19/the-little-known-maatkit-man-page/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/06/12/postmodern-databases/">Postmodern databases</a></h1>
        <span class="post-date">Sat, Jun 12, 2010</span>
        Dr. Richard Hipp gave a talk at Southeast Linux Fest today on choosing an open-source database. He thinks that NoSQL is not a very good name for the new databases we&rsquo;re seeing these days, so he proposed a new name: postmodern databases. Why postmodern?
 The absence of objective truth Queries return opinions, not facts  I thought this was the best proposal I&rsquo;ve heard for an alternative to the NoSQL moniker.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/06/12/postmodern-databases/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/06/03/southeast-linux-fest-is-around-the-corner/">Southeast Linux Fest is around the corner</a></h1>
        <span class="post-date">Thu, Jun 3, 2010</span>
        If you&rsquo;re near South Carolina next weekend, consider attending Southeast Linux Fest! There&rsquo;s a list of illustrious speakers including several well-known in the database world: Joshua Drake and Andrew Dunstan (PostgreSQL), D. Richard Hipp (SQLite), and yes, yours truly (MySQL), plus a MySQL name that&rsquo;s new to me: Brandon Checketts. There are a ton of non-database sessions too! Check out the full speaker &#038; session list. This was a great show last year; I highly encourage everyone to attend.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/06/03/southeast-linux-fest-is-around-the-corner/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/06/01/under-provisioning-the-curse-of-the-cloud/">Under-Provisioning: The Curse Of The Cloud</a></h1>
        <span class="post-date">Tue, Jun 1, 2010</span>
        <p>A common problem I see people running into when using a cloud computing service is the trap of under-provisioning.</p>

<p><img src="/media/2010/06/chinchilla.png" alt="Chinchilla" /></p>

<p></p>
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/06/01/under-provisioning-the-curse-of-the-cloud/"> &raquo; Continue Reading (about 800 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/05/26/reacting-to-small-variations-in-response-time/">Reacting to small variations in response time</a></h1>
        <span class="post-date">Wed, May 26, 2010</span>
        I wrote recently about early detection for MySQL performance problems. If your server is having micro-fluctuations in performance, it&rsquo;s important to know, because very soon they will turn much worse. What can you do about this?
The most important thing is not to guess at what&rsquo;s happening, but to measure instead. I have seen these problems from DNS, the binary log, failing hardware, the query cache, the table cache, the thread cache, and a variety of InnoDB edge cases.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/05/26/reacting-to-small-variations-in-response-time/"> &raquo; Continue Reading (about 2100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/05/25/a-better-way-to-build-cacti-templates/">A better way to build Cacti templates</a></h1>
        <span class="post-date">Tue, May 25, 2010</span>
        The traditional way to build Cacti templates is through the Cacti web interface. This is an enormous amount of work, and the result is generally not very consistent or good quality. The process is too error-prone. You can export the templates as XML, but they tend to have problems such as version incompatibilities with other Cacti installations, and it&rsquo;s hard to adapt them for user preferences such as different graph image sizes and polling intervals.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/05/25/a-better-way-to-build-cacti-templates/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/05/25/dirty-pages-fast-shutdown-and-write-combining/">Dirty pages, fast shutdown, and write combining</a></h1>
        <span class="post-date">Tue, May 25, 2010</span>
        <p>One of the things that makes a traditional transactional database hard to make highly available is a relatively slow shutdown and start-up time. Applications typically delegate most or all writes to the database, which tends to run with a lot of &ldquo;dirty&rdquo; data in its (often large) memory. At shutdown time, the dirty memory needs to be written to disk, so the recovery routine doesn&rsquo;t have to run at startup. And even upon a clean startup, the database probably has to warm up, which can also take a very long time.</p>

<p><img src="/media/2010/05/ligatures.jpg" alt="Ligatures" /></p>

<p>Some databases let the operating system handle most of their memory management needs. This has its own challenges, especially if the <a href="http://blog.2ndquadrant.com/en/2010/05/postgresql-freebsd-and-free-do.html">operating system&rsquo;s design doesn&rsquo;t align exactly with the database&rsquo;s goals</a>.</p>

<p></p>
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/05/25/dirty-pages-fast-shutdown-and-write-combining/"> &raquo; Continue Reading (about 1300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/05/20/my-chapter-in-the-forthcoming-web-operations-book/">My chapter in the forthcoming Web Operations book</a></h1>
        <span class="post-date">Thu, May 20, 2010</span>
        Web Operations  Web Operations. By John Allspaw and Jesse Robbins, O&rsquo;Reilly 2010. (Here&rsquo;s a link to the publisher&rsquo;s site).
This book is due out in about a month. It is part of O&rsquo;Reilly&rsquo;s Beautiful series, which you might know through Beautiful Code. This one&rsquo;s about web ops, of course. There are a dozen contributors, including some of my favorites such as Theo Schlossnagle, whose Scalable Internet Architectures is on my (quite short) list of essential books.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/05/20/my-chapter-in-the-forthcoming-web-operations-book/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/05/19/mk-query-digest-uses-less-memory/">mk-query-digest uses less memory</a></h1>
        <span class="post-date">Wed, May 19, 2010</span>
        Daniel changed mk-query-digest to use much less memory. It parsed and aggregated a 2GB MySQL slow query log file in a few dozen megabytes of memory for me yesterday. Thanks to Facebook for sponsoring this work.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/05/19/mk-query-digest-uses-less-memory/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/05/16/apsersas-summary-tool-supports-adaptec-and-megaraid-controllers/">Apsersa&#39;s summary tool supports Adaptec and MegaRAID controllers</a></h1>
        <span class="post-date">Sun, May 16, 2010</span>
        I spent a little time yesterday doing some things with the &ldquo;summary&rdquo; tool from Aspersa. I added support for summarizing status and configuration of Adaptec and LSI MegaRAID controllers. I also figured out how to write a test suite for Bash scripts, so most major parts of the tool are fully tested now. I learned a lot more sed and awk this weekend.
There is really only one way to get status of Adaptec controllers (/usr/StorMan/arcconf), but the LSI controllers can be queried through multiple tools.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/05/16/apsersas-summary-tool-supports-adaptec-and-megaraid-controllers/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/05/14/how-to-read-linuxs-procdiskstats-easily/">How to read Linux&#39;s /proc/diskstats easily</a></h1>
        <span class="post-date">Fri, May 14, 2010</span>
        These days I spend more time looking at /proc/diskstats than I do at iostat. The problem with iostat is that it lumps reads and writes together, and I want to see them separately. That&rsquo;s really important on a database server (e.g. MySQL performance analysis).
It&rsquo;s not easy to read /proc/diskstats by looking at them, though. So I usually do the following to get a nice readable table:
 Grep out the device I want to examine.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/05/14/how-to-read-linuxs-procdiskstats-easily/"> &raquo; Continue Reading (about 400 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/05/13/i-want-simple-things-to-be-easy/">I want simple things to be easy</a></h1>
        <span class="post-date">Thu, May 13, 2010</span>
        I like to write tools that make hard things easy, when possible. By and large, MySQL is easy and simple. But some simple things are too hard with MySQL. I want to change that, at least for the things that matter the most to me, and which I think I know how to fix.
I will probably write a lot about this. I have already written a number of rants blog posts about the lack of instrumentation in MySQL, and that is where I&rsquo;ll probably continue to put most of my energy.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/05/13/i-want-simple-things-to-be-easy/"> &raquo; Continue Reading (about 500 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/05/12/optimal-performance-out-of-the-box/">Optimal performance out of the box!</a></h1>
        <span class="post-date">Wed, May 12, 2010</span>
        Most database companies would be proud to say that their products perform optimally out of the box. It means they accomplished a Herculean feat of engineering. But most databases have configuration options because this is almost impossible. For example, MySQL has scores of tuning options, and it needs a lot more.
So when someone benchmarks your database and makes you look bad, usually you can say &ldquo;that benchmark was run by someone who doesn&rsquo;t know how to properly tune my database software.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/05/12/optimal-performance-out-of-the-box/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/05/12/tis-a-gift-to-be-simple/">Tis a gift to be simple</a></h1>
        <span class="post-date">Wed, May 12, 2010</span>
        I was just reading up on the syntax for index hints in MySQL, and noticed this:
 An index_name value need not be a full index name. It can be an unambiguous prefix of an index name. If a prefix is ambiguous, an error occurs. I actually prefer not to have extra &ldquo;syntactic sugar&rdquo; features such as this. It helps avoid bugs and unexpected behavior. Even if I don&rsquo;t use it intentionally, I can get bitten by it, if someone adds another index whose name has the same prefix as one that I already use:
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/05/12/tis-a-gift-to-be-simple/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/05/10/new-maatkit-tool-to-compute-index-usage/">New Maatkit tool to compute index usage</a></h1>
        <span class="post-date">Mon, May 10, 2010</span>
        In a couple of recent consulting cases, I needed a tool to analyze how a log of queries accesses indexes and tables in the database, specifically, to find out which indexes are not used. I initially hacked together something similar to Daniel Nichter&rsquo;s mysqlidxchk, but using the framework provided by Maatkit, which gave me a pretty good start right out of the box. This was useful in the very tight time constraints I was under, but was not a complete solution.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/05/10/new-maatkit-tool-to-compute-index-usage/"> &raquo; Continue Reading (about 400 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/05/10/the-manager-programmer-face-off-over-nosql/">The manager-programmer face-off over NoSQL</a></h1>
        <span class="post-date">Mon, May 10, 2010</span>
        A lot of conversations with a few different people I respect (no links, sorry) have coalesced some thoughts about these newly popular &ldquo;non-relational&rdquo; datastores. I wanted to point out an aspect I&rsquo;m not sure is very clear in the hot-topic department. This is about what happens when managers learn that their developers or operations team have installed some new technology in their systems without them knowing it.
Lest anyone think that this happens only in a poorly-managed company, I can attest that it happens everywhere, all the time.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/05/10/the-manager-programmer-face-off-over-nosql/"> &raquo; Continue Reading (about 900 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/05/09/how-to-tune-mysqls-sort_buffer_size/">How to tune MySQL&#39;s sort_buffer_size</a></h1>
        <span class="post-date">Sun, May 9, 2010</span>
        I continually see consulting engagements like the following:
 My server load is high and my queries are slow and my server crashes. Can you help me tune my server? Here is the my.cnf:
[mysqld]
sort_buffer_size = 100M
 Such a large sort_buffer_size is a serious problem, but unfortunately there is a lot of cargo cult advice on the Internet, in books, and in &ldquo;tuning scripts,&rdquo; that perpetuates the harmful advice to increase it.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/05/09/how-to-tune-mysqls-sort_buffer_size/"> &raquo; Continue Reading (about 500 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2010/05/07/using-aspersa-to-capture-diagnostic-data/">Using Aspersa to capture diagnostic data</a></h1>
        <span class="post-date">Fri, May 7, 2010</span>
        I frequently encounter MySQL servers with intermittent problems that don&rsquo;t happen when I&rsquo;m watching the server. Gathering good diagnostic data when the problem happens is a must. Aspersa includes two utilities to make this easier.
The first is called &lsquo;stalk&rsquo;. It would be called &lsquo;watch&rsquo; but that&rsquo;s already a name of a standard Unix utility. It simply watches for a condition to happen and fires off the second utility.
This second utility does most of the work.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2010/05/07/using-aspersa-to-capture-diagnostic-data/"> &raquo; Continue Reading (about 400 words)</a></p>
      </div>
  
</div>


<div class="pagination">
  
    <a class="pagination-item newer" href="/categories/databases/page/14/">Newer</a>
  
  
    <a class="pagination-item older" href="/categories/databases/page/16/">Older</a>
  
</div>



      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>


<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

  _st('install','Dq2t2TnFxXxWs_y9hi1k');
</script>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-101883-1', 'auto');
  ga('send', 'pageview');

</script>



  </body>
</html>

