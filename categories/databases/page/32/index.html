<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width">

  <title>
    
      Databases &middot; Baron Schwartz&#39;s Blog
    
  </title>

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  
  <meta name="og:title" content="Databases" />
  <meta name="og:type" content="article" />
  <meta name="og:image" content="https://www.xaprb.com/" />
  <meta name="og:description" content="" />
  <meta name="og:url" content="https://www.xaprb.com/categories/databases/" />
  <meta name="og:site_name" content="Baron Schwartz&#39;s Blog" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@xaprb" />

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/index.xml">

  
  <link rel="canonical" href="https://www.xaprb.com/categories/databases/">
  

  <script type="text/javascript" src='//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
</head>


  <body class="layout-reverse sidebar-overlay">

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
	  <p>Baron Schwartz&#39;s Blog &middot; Stay Curious!</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>
    <a class="sidebar-nav-item" href="/blog/">Posts</a>
    
        <a class="sidebar-nav-item" href="/about/">About Baron Schwartz</a>
    
        <a class="sidebar-nav-item" href="/essential-books/">Essential Books</a>
    
        <a class="sidebar-nav-item" href="/rx-toolkit/">Regex Toolkit</a>
    
        <a class="sidebar-nav-item" href="/blog/2013/12/18/secure-your-accounts-and-devices/">Staying Secure Online</a>
    
        <a class="sidebar-nav-item" href="/blog/2013/07/10/ultimate-notebook-and-journal-face-off/">The Ultimate Notebook</a>
    
        <a class="sidebar-nav-item" href="/blog/2015/03/07/ultimate-pen-marker-face-off/">The Ultimate Pen</a>
    
  </nav>

  <div class="sidebar-item">
	  <p>&copy; 2016 Baron Schwartz.
	  <br><a href="/index.xml">RSS Feed</a>, <a href="/about/">Contact</a>.<br>
	 <br>Powered by <a href="http://hugo.spf13.com">Hugo</a>,
	  <a href="https://www.netlify.com/">Netlify</a>,
	  <a href="https://forestry.io/">Forestry</a>,
	  <a href="https://github.com/xaprb/xaprb-src/">GitHub</a>,
	  <a href="https://disqus.com">Disqus</a>,
	  <a href="https://swiftype.com/">Swiftype</a>.
	</p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Baron Schwartz&#39;s Blog</a>
          </h3>
        </div>
      </div>

      <div class="container content">


<div class="posts">
	
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/08/21/how-to-select-the-first-or-last-row-per-group-in-sql/">How to select the first or last row per group in SQL</a></h1>
        <span class="post-date">Tue, Aug 21, 2007</span>
        There is no &ldquo;first&rdquo; or &ldquo;last&rdquo; aggregate function in SQL. Sometimes you can use MIN() or MAX(), but often that won&rsquo;t work either. There are a couple of ways to solve this vexing non-relational problem. Read on to find out how.
First, let&rsquo;s be clear: I am posing a very non-relational problem. This is not about the minimum, maximum, top, most, least or any other relationally valid extreme in the group.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/08/21/how-to-select-the-first-or-last-row-per-group-in-sql/"> &raquo; Continue Reading (about 800 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/08/12/what-would-make-me-buy-mysql-enterprise/">What would make me buy MySQL Enterprise?</a></h1>
        <span class="post-date">Sun, Aug 12, 2007</span>
        MySQL AB&rsquo;s recent changes to the Community/Enterprise split have made people go as far as calling the split a failure. I don&rsquo;t think it&rsquo;s working well either, but it could be fixed. Here&rsquo;s what I think would make Enterprise a compelling offer.
I&rsquo;d recommend Enterprise if I could If the MySQL Enterprise Server were a good thing, I&rsquo;d recommend it to my consulting clients. I&rsquo;d suggest we start using it at my employer, too.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/08/12/what-would-make-me-buy-mysql-enterprise/"> &raquo; Continue Reading (about 3100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/08/04/introducing-mysql-slave-delay/">Introducing MySQL Replica Delay</a></h1>
        <span class="post-date">Sat, Aug 4, 2007</span>
        MySQL Replica Delay implements an oft-requested replication feature: the ability to make a replica lag its master, a.k.a scheduling binlog events for some time in the future. This will probably be built into MySQL replication someday, but in the meantime, you can use this tool. A delayed replica is great if disaster strikes and propagates through replication, because it lets you stop the delayed replica before it gets corrupted, restart the replica until just before the offending statement, and recover quickly.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/08/04/introducing-mysql-slave-delay/"> &raquo; Continue Reading (about 400 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/08/01/why-mysql-server-not-configured-as-slave/">Why MySQL says the server is not configured as a replica</a></h1>
        <span class="post-date">Wed, Aug 1, 2007</span>
        Is MySQL giving you the error message &ldquo;ERROR 1200 (HY000): The server is not configured as replica; fix in config file or with CHANGE MASTER TO&rdquo; when you try to run START SLAVE? There are a few simple troubleshooting steps to take, but I always forget what to do. This article is to help me remember in the future!
 First, make sure you have run CHANGE MASTER TO and configured the server as a replica.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/08/01/why-mysql-server-not-configured-as-slave/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/07/29/introducing-mysql-visual-explain/">Introducing MySQL Visual Explain</a></h1>
        <span class="post-date">Sun, Jul 29, 2007</span>
        If you&rsquo;ve ever wished you could see MySQL&rsquo;s EXPLAIN output formatted as a tree, now you can. MySQL Visual Explain transforms EXPLAIN output into a hierarchical view of the query plan, which is significantly easier to read and understand.
What it does MySQL Visual Explain is a command-line tool, not a Graphical User Interface (GUI). You can use it two ways:
 Give it a query and some connection options, and it will connect and EXPLAIN the query, then show you the result as a tree.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/07/29/introducing-mysql-visual-explain/"> &raquo; Continue Reading (about 1100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/07/27/how-to-avoid-an-extra-index-scan-in-mysql/">How to avoid an extra index scan in MySQL</a></h1>
        <span class="post-date">Fri, Jul 27, 2007</span>
        Is your MySQL server doing an extra index scan on queries that need to check a key for matches or NULL? It&rsquo;s easy for this to happen accidentally, but it&rsquo;s also easy to fix, especially in MySQL 5.0 and up. Here&rsquo;s how.
If you read the manual page for EXPLAIN, you&rsquo;ll see the ref_or_null &ldquo;join type&rdquo; (I think &ldquo;access type&rdquo; is really a better term) mentioned. If you see this in EXPLAIN, it means MySQL has to search the index for matches, then search again for NULLs.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/07/27/how-to-avoid-an-extra-index-scan-in-mysql/"> &raquo; Continue Reading (about 400 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/07/20/mysql-toolkit-version-675-released/">MySQL Toolkit version 675 released</a></h1>
        <span class="post-date">Fri, Jul 20, 2007</span>
        I&rsquo;ve just released changes to two of the tools in MySQL Toolkit. MySQL Table Checksum got some convenient functionality to help you recursively check replicas for bad replicated checksum chunks. MySQL Archiver got statistics-gathering functionality to help you optimize your archiving and purging jobs, plus a few important bug fixes.
Changes in MySQL Archiver:
 Made &#8211;time suffix optional. Added &#8211;statistics option to gather and print timing statistics. Added signal handling so mysql-archiver exits cleanly when it can.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/07/20/mysql-toolkit-version-675-released/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/07/15/innotop-version-143-released/">innotop version 1.4.3 released</a></h1>
        <span class="post-date">Sun, Jul 15, 2007</span>
        Version 1.4.3 of the innotop MySQL and InnoDB monitor is out. This release fixes some minor bugs and feature annoyances, and at last innotop has thorough documentation, available online!
What&rsquo;s new Here&rsquo;s what&rsquo;s new:
 Added standard &#8211;version command-line option Changed colors to cyan instead of blue; more visible on dark terminals. Added information to the filter-choosing dialog. Added column auto-completion when entering a filter expression. Changed Term::ReadKey from optional to mandatory.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/07/15/innotop-version-143-released/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/07/10/mysql-table-checksum-119-released/">MySQL Table Checksum 1.1.9 released</a></h1>
        <span class="post-date">Tue, Jul 10, 2007</span>
        This release fixes some bugs and improves the chunking functionality. MySQL Table Checksum had a few minor bugs and one major bug with the chunking functionality. I also rewrote the chunking, though the behavior is backwards compatible. I am very happy with the way it works now, and will probably not make any more incompatible changes to it. The changes enabled me to add support for chunking on float, double and decimal columns.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/07/10/mysql-table-checksum-119-released/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/07/05/mysql-toolkit-distribution-620-released/">MySQL Toolkit distribution 620 released</a></h1>
        <span class="post-date">Thu, Jul 5, 2007</span>
        MySQL Toolkit distribution 620 updates documentation and test suites, includes some major bug fixes and functionality changes, and adds one new tool to the toolkit. This article is mostly a changelog, with some added notes.
Many of the tools have matured and I just needed to make the documentation top-notch, but there&rsquo;s still a lot to be done on the crucial checksumming and syncing tools. Time is in short supply for me right now, though.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/07/05/mysql-toolkit-distribution-620-released/"> &raquo; Continue Reading (about 500 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/06/15/archive-strategies-for-oltp-servers-part-3/">Archive strategies for OLTP servers, Part 3</a></h1>
        <span class="post-date">Fri, Jun 15, 2007</span>
        In the first two articles in this series, I discussed archiving basics, relationships and dependencies, and specific archiving techniques for online transaction processing (OLTP) database servers. This article covers how to move the data from the OLTP source to the archive destination, what the archive destination might look like, and how to un-archive data. If you can un-archive easily and reliably, a whole new world of possibilities opens up.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/06/15/archive-strategies-for-oltp-servers-part-3/"> &raquo; Continue Reading (about 2100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/06/14/archive-strategies-for-oltp-servers-part-2/">Archive strategies for OLTP servers, Part 2</a></h1>
        <span class="post-date">Thu, Jun 14, 2007</span>
        In the first article in this series on archiving strategies for online transaction processing (OLTP) database servers, I covered some basics: why to archive, and what to consider when gathering requirements for the archived data itself. This article is more technical. I want to help you understand how to choose which rows are archivable, and how to deal with complex data relationships and dependencies. In that context, I&rsquo;ll also discuss a few concrete archiving strategies, their strengths and shortcomings, and how they can satisfy your requirements, especially requirements for data consistency, which as you will see is one of the most difficult problems in archiving.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/06/14/archive-strategies-for-oltp-servers-part-2/"> &raquo; Continue Reading (about 2900 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/06/13/archive-strategies-for-oltp-servers-part-1/">Archive strategies for OLTP servers, Part 1</a></h1>
        <span class="post-date">Wed, Jun 13, 2007</span>
        In May 2005, I wrote a widely-referenced article about how to efficiently archive and/or purge data from online transaction processing (OLTP) database servers. That article focused on how to write efficient archiving SQL. In this article I&rsquo;ll discuss archiving strategy, not tactics. OLTP servers tend to have complex schemas, which makes it important and sometimes difficult to design a good archiving strategy.
The 50,000-foot view Archiving is actually a very large topic!
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/06/13/archive-strategies-for-oltp-servers-part-1/"> &raquo; Continue Reading (about 1200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/06/11/a-challenge-partition-a-character-set-in-mysql/">A challenge: partition a character set in MySQL</a></h1>
        <span class="post-date">Mon, Jun 11, 2007</span>
        How good are your SQL and/or general coding skills? I have a specific challenge I&rsquo;d like your help solving. I am not sure it&rsquo;s possible, but I&rsquo;d love to be proven wrong.
I&rsquo;ll explain some background for the problem first, and then pose the challenge at the end of the article.
The problem Several of the algorithms I&rsquo;ve been implementing require data to be partitioned for a divide-and-conquer approach. This is easy enough with numeric and even with temporal data, but character data is more difficult, and I don&rsquo;t have a good strategy yet.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/06/11/a-challenge-partition-a-character-set-in-mysql/"> &raquo; Continue Reading (about 800 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/06/10/mysql-toolkit-released-as-one-package/">MySQL Toolkit released as one package</a></h1>
        <span class="post-date">Sun, Jun 10, 2007</span>
        It&rsquo;s finally here: a single-file download for all the tools in MySQL Toolkit. During this process I also upgraded every package in the toolkit to a new release, combining new versioning and some simple non-functional changes with (mostly minor) changes I&rsquo;d committed but not yet released. Details are at the end of this post.
I ended up not using a Makefile for the build process, because I wanted to it to be more auto-magical than I know how to do with a Makefile.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/06/10/mysql-toolkit-released-as-one-package/"> &raquo; Continue Reading (about 400 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/06/09/mysql-archiver-092-released/">MySQL Archiver 0.9.2 released</a></h1>
        <span class="post-date">Sat, Jun 9, 2007</span>
        This release fixes some minor bugs and adds a plugin mechanism. Now you can extend MySQL Archiver with your own code easily. You could use this to run setup and tear-down, hook code into the archiving process, and more. Possibilities include building summary tables in a data warehouse during archiving, handling dependencies such as foreign keys before archiving each row, or applying advanced logic to determine which rows to archive.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/06/09/mysql-archiver-092-released/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/06/06/mysql-archiver-091-released/">MySQL Archiver 0.9.1 released</a></h1>
        <span class="post-date">Wed, Jun 6, 2007</span>
        MySQL Archiver is the implementation of the efficient forward-only archiving and purging strategies I wrote about more than a year ago. It nibbles rows from a table, then inserts them into another table and/or writes them to a file. The object is to do this without interfering with critical online transaction-processing (OLTP) queries.
Several people have asked me to release this code, which I originally wrote for my employer. As it turns out, the delay has been fruitful.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/06/06/mysql-archiver-091-released/"> &raquo; Continue Reading (about 500 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/06/03/advice-on-packaging-mysql-toolkit/">I need your advice on how to package MySQL Toolkit as one file</a></h1>
        <span class="post-date">Sun, Jun 3, 2007</span>
        Since starting the innotop and mysqltoolkit projects on Sourceforge, I have learned a lot about how to use source control more effectively &ndash; especially how branching and tagging can be used. Still, I have limited experience. I want to package all the tools in MySQL Toolkit together and release them in one archive, but I don&rsquo;t know the best way to do it; every idea seems to have drawbacks. Read on for the details, and if you have suggestions, would you please leave comments for me?
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/06/03/advice-on-packaging-mysql-toolkit/"> &raquo; Continue Reading (about 1100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/06/03/mysql-table-checksum-116-released/">MySQL Table Checksum 1.1.6 released</a></h1>
        <span class="post-date">Sun, Jun 3, 2007</span>
        MySQL Table Checksum 1.1.6 enhances chunking, adds features and fixes bugs. The chunking functionality is where I continue to put most of my effort. This release&rsquo;s behavior is incompatible with the last release, and it will probably change again in the future.
Thanks to everyone who has been helping me chase down bugs, including one user who sent me a major patch! It&rsquo;s a great feeling to get a patch.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/06/03/mysql-table-checksum-116-released/"> &raquo; Continue Reading (about 400 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2007/05/31/why-is-null-doesnt-always-work-in-mysql/">Why IS NULL doesn&#39;t always work in MySQL</a></h1>
        <span class="post-date">Thu, May 31, 2007</span>
        How can a query like &ldquo;SELECT * FROM tbl WHERE col IS NULL&rdquo; return a row where the column has a (non-NULL) value? Read on to find out.
First, a demonstration Try this one yourself:
create table test( a int not null auto_increment, b int not null, primary key (a) ); insert into test(a, b) values (0, 1); select * from test where a is null; +---+---+ | a | b | +---+---+ | 1 | 1 | +---+---+ Your reaction might be, as mine was, &ldquo;what the heck is going on here?
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2007/05/31/why-is-null-doesnt-always-work-in-mysql/"> &raquo; Continue Reading (about 500 words)</a></p>
      </div>
  
</div>


<div class="pagination">
  
    <a class="pagination-item newer" href="/categories/databases/page/31/">Newer</a>
  
  
    <a class="pagination-item older" href="/categories/databases/page/33/">Older</a>
  
</div>



      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>


<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

  _st('install','Dq2t2TnFxXxWs_y9hi1k');
</script>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-101883-1', 'auto');
  ga('send', 'pageview');

</script>



  </body>
</html>

