<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width">

  <title>
    
      Databases &middot; Baron Schwartz&#39;s Blog
    
  </title>

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  
  <meta name="og:title" content="Databases" />
  <meta name="og:type" content="article" />
  <meta name="og:image" content="https://www.xaprb.com/" />
  <meta name="og:description" content="" />
  <meta name="og:url" content="https://www.xaprb.com/categories/databases/" />
  <meta name="og:site_name" content="Baron Schwartz&#39;s Blog" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@xaprb" />

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/index.xml">

  
  <link rel="canonical" href="https://www.xaprb.com/categories/databases/">
  

  <script type="text/javascript" src='//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
</head>


  <body class="layout-reverse sidebar-overlay">

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
	  <p>Baron Schwartz&#39;s Blog &middot; Stay Curious!</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>
    <a class="sidebar-nav-item" href="/blog/">Posts</a>
    
        <a class="sidebar-nav-item" href="/about/">About Baron Schwartz</a>
    
        <a class="sidebar-nav-item" href="/essential-books/">Essential Books</a>
    
        <a class="sidebar-nav-item" href="/rx-toolkit/">Regex Toolkit</a>
    
        <a class="sidebar-nav-item" href="/blog/2013/12/18/secure-your-accounts-and-devices/">Staying Secure Online</a>
    
        <a class="sidebar-nav-item" href="/blog/2013/07/10/ultimate-notebook-and-journal-face-off/">The Ultimate Notebook</a>
    
        <a class="sidebar-nav-item" href="/blog/2015/03/07/ultimate-pen-marker-face-off/">The Ultimate Pen</a>
    
  </nav>

  <div class="sidebar-item">
	  <p>&copy; 2016 Baron Schwartz.
	  <br><a href="/index.xml">RSS Feed</a>, <a href="/about/">Contact</a>.<br>
	 <br>Powered by <a href="http://hugo.spf13.com">Hugo</a>,
	  <a href="https://www.netlify.com/">Netlify</a>,
	  <a href="https://forestry.io/">Forestry</a>,
	  <a href="https://github.com/xaprb/xaprb-src/">GitHub</a>,
	  <a href="https://disqus.com">Disqus</a>,
	  <a href="https://swiftype.com/">Swiftype</a>.
	</p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Baron Schwartz&#39;s Blog</a>
          </h3>
        </div>
      </div>

      <div class="container content">


<div class="posts">
	
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2013/02/01/if-yoda-you-were-sql-you-would-invent/">If yoda you were, SQL you would invent</a></h1>
        <span class="post-date">Fri, Feb 1, 2013</span>
        SQL is such a bizarre language. It is all backwards. Consider:
SELECT item_id, COUNT(*) AS qty, SUM(qty * price) AS total FROM line_item WHERE invoice_id = 18743 GROUP BY item_id HAVING SUM(discount) &gt; 0 ORDER BY item_id;  What is the logical flow of this statement? If SQL were written in logical-flow order, it might look something like this:
FROM line_item WHERE invoice_id = 18743 RETRIEVE item_id, qty, price, discount GROUP BY item_id COMPUTE item_id, COUNT(*) AS qty, SUM(qty * price) AS total, SUM(discount) HAVING SUM(discount) &gt; 0 PROJECT item_id, qty, total ORDER BY item_id;  SQL can get really hard to read and understand, really fast.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2013/02/01/if-yoda-you-were-sql-you-would-invent/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2013/01/28/deleting-millions-of-rows-in-small-chunks-with-common_schema/">Deleting millions of rows in small chunks with common_schema</a></h1>
        <span class="post-date">Mon, Jan 28, 2013</span>
        I wrote pt-archiver for jobs like deleting or archiving rows from a big table in small chunks. These days, that&rsquo;s the kind of task I like doing inside the database, and Shlomi&rsquo;s magical common_schema feels a lot more suited for this than an external Perl script.
When I say it&rsquo;s magical, it really does feel magical. It&rsquo;s amazing how he&rsquo;s created an entire expressive scripting language that runs in MySQL and feels just right for the job.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2013/01/28/deleting-millions-of-rows-in-small-chunks-with-common_schema/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2013/01/28/how-scalable-is-riak/">How scalable is Riak?</a></h1>
        <span class="post-date">Mon, Jan 28, 2013</span>
        I&rsquo;m reading a little bit about Riak, and was curious about performance and scalability. The only benchmark I found that allowed me to assess scalability was this one from Joyent. Of course, they say scalability is linear (everyone says that without knowing what it means) but the results are clearly not a straight line. So how scalable is it, really?
The Universal Scalability Law is such a powerful tool for thinking about scalability.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2013/01/28/how-scalable-is-riak/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2013/01/23/mysql-5-6-adds-connection-attributes/">MySQL 5.6 adds connection attributes</a></h1>
        <span class="post-date">Wed, Jan 23, 2013</span>
        I enjoyed being able to add metadata to a connection in Microsoft SQL Server. I&rsquo;d annotate my connections so that a DBA could learn a little bit by inspecting it. For example, what was its purpose, and from which application did it originate? The employer where I did this wasn&rsquo;t perfect at managing their database user accounts and so forth, and there were many servers with hundreds of databases on each server, so this was a good way to provide some extra hints.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2013/01/23/mysql-5-6-adds-connection-attributes/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2013/01/10/bold-predictions-on-which-nosql-databases-will-survive/">Bold predictions on which NoSQL databases will survive</a></h1>
        <span class="post-date">Thu, Jan 10, 2013</span>
        In case you&rsquo;ve been living under a rock for the last 5 years, the NoSQL movement has changed. There was a time when everyone &ndash; EVERYONE &ndash; was dumping on relational databases, and MySQL in particular. Nonsense like &ldquo;SQL itself is inherently unscalable&rdquo; routinely came out of the mouths of otherwise usually sensible people. But that&rsquo;s cooled off a little bit, thank heavens.
And what&rsquo;s the new hotness? Well, Big Data, of course!
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2013/01/10/bold-predictions-on-which-nosql-databases-will-survive/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2013/01/07/a-close-look-at-new-relics-scalability-chart/">A close look at New Relic&#39;s scalability chart</a></h1>
        <span class="post-date">Mon, Jan 7, 2013</span>
        I&rsquo;ve written a lot about modeling MySQL with the USL, and I like it best of all the scalability models I&rsquo;ve seen, but it&rsquo;s not the only way to think about scalability. I was aware that New Relic supports a scalability chart, so I decided to take a peek at that. Here&rsquo;s a screenshot of the chart, from their blog:
Here&rsquo;s how it works. It plots response time (or database time, or CPU) as the dependent variable, versus throughput as the independent variable.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2013/01/07/a-close-look-at-new-relics-scalability-chart/"> &raquo; Continue Reading (about 800 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2013/01/05/modeling-scalability-with-the-usl-at-concurrencies-less-than-1/">Modeling scalability with the USL at concurrencies less than 1</a></h1>
        <span class="post-date">Sat, Jan 5, 2013</span>
        Last time I said that you can set a starting value for the USL&rsquo;s coefficient of performance and let your modeling software (R, gnuplot, etc) manipulate this as part of the regression to find the best fit. However, there is a subtlety in the USL model that you need to be aware of. Here is a picture of the low-end of the curve:
The graph shows the USL model as the blue curve and linear scalability as the black line.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2013/01/05/modeling-scalability-with-the-usl-at-concurrencies-less-than-1/"> &raquo; Continue Reading (about 500 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2013/01/03/determining-the-usls-coefficient-of-performance-part-2/">Determining the USL&#39;s coefficient of performance, part 2</a></h1>
        <span class="post-date">Thu, Jan 3, 2013</span>
        Last time I said that the USL has a forgotten third coefficient, the coefficient of performance. This is the same thing as the system&rsquo;s throughput at concurrency=1, or C(1). How do you determine this coefficient? There are at least three ways.
Neil Gunther&rsquo;s writings, or at least those that I&rsquo;ve read and remember, say that you should set it equal to your measurement of C(1). Most of his writing discusses a handful of measurements of the system: one at concurrency 1, and at least 4 to 6 at higher concurrencies.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2013/01/03/determining-the-usls-coefficient-of-performance-part-2/"> &raquo; Continue Reading (about 600 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2013/01/02/determining-the-universal-scalability-laws-coefficient-of-performance/">Determining the Universal Scalability Law&#39;s coefficient of performance</a></h1>
        <span class="post-date">Wed, Jan 2, 2013</span>
        If you&rsquo;re familiar with Neil Gunther&rsquo;s Universal Scalability Law, you may have heard it said that there are two coefficients, variously called alpha and beta or sigma and kappa. There are actually three coefficients, though. See?
\[ C(N) = \frac{N}{1 + \sigma(N-1) + \kappa N (N-1)} \]
No, you don&rsquo;t see it &ndash; but it&rsquo;s actually there, as a hidden 1 multiplied by N in the numerator on the right-hand side.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2013/01/02/determining-the-universal-scalability-laws-coefficient-of-performance/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/12/28/interesting-findings-about-one-of-the-go-database-drivers-for-mysql/">Interesting findings about one of the Go database drivers for MySQL</a></h1>
        <span class="post-date">Fri, Dec 28, 2012</span>
        Moral of the upcoming story: when your systems rely on someone else&rsquo;s software, make sure you test it thoroughly to understand how it works.
I found a couple of interesting things about the go-mysql-driver driver for Go. One is that it prepares every query before executing it, and then closes it afterwards, if you&rsquo;re just using the db.Query() or db.QueryRow() functionality. There is zero benefit to this; Bill Karwin has probably listed it as an antipattern somewhere.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/12/28/interesting-findings-about-one-of-the-go-database-drivers-for-mysql/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/12/26/the-state-of-mysql-client-libraries/">The state of MySQL client libraries</a></h1>
        <span class="post-date">Wed, Dec 26, 2012</span>
        Those who&rsquo;ve been around the MySQL world are probably aware of the much-discussed topics of GPL licensing, dual licensing, and in particular, licensing of the client libraries (also called connectors or drivers) and the FOSS exception to that licensing. This is newly relevant with the announcement of a permissively-licensed MySQL-compatible client library for MariaDB.
The difference is that this time there&rsquo;s been some question about the provenance and history of the source code.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/12/26/the-state-of-mysql-client-libraries/"> &raquo; Continue Reading (about 1000 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/12/23/handling-mysqls-warnings-in-go-code/">Handling MySQL&#39;s warnings in Go code</a></h1>
        <span class="post-date">Sun, Dec 23, 2012</span>
        I was just bitten by failing to catch a MySQL warning. It&rsquo;s the old familiar tune: I inserted 100 characters into a VARCHAR(50) and it didn&rsquo;t throw an error*. Of course, then subsequent SELECT statements didn&rsquo;t find the value I inserted.
What&rsquo;s different this time is that I was using Go as the client. There is no single official MySQL driver for Go, although there are several good-quality community-maintained ones. I was using one of those through the official Go database interface, which is a simple and lightweight way to interact with relational databases.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/12/23/handling-mysqls-warnings-in-go-code/"> &raquo; Continue Reading (about 500 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/12/17/slides-for-my-talk-at-devignition/">Slides for my talk at DevIgnition</a></h1>
        <span class="post-date">Mon, Dec 17, 2012</span>
        I spoke last Friday at DevIgnition about what&rsquo;s coming in the MySQL 5.6 release. My slides are embedded below.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/12/17/slides-for-my-talk-at-devignition/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/12/06/how-was-mysql-connect/">How was MySQL Connect?</a></h1>
        <span class="post-date">Thu, Dec 6, 2012</span>
        I just realized that I didn&rsquo;t hear a tremendous amount of feedback about Oracle&rsquo;s MySQL Connect conference. Were you there? If so, how did you like it?
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/12/06/how-was-mysql-connect/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/11/15/can-we-afford-big-data-or-do-we-need-smart-data/">Can we afford big data, or do we need smart data?</a></h1>
        <span class="post-date">Thu, Nov 15, 2012</span>
        With the Big Data craze that&rsquo;s sweeping the world of technology right now, I often ask myself whether we&rsquo;re deficit-spending, so to speak, with our data consumption habits. I&rsquo;ve seen repeated examples of being unwilling to get rid of data, even though it&rsquo;s unused and nobody can think of a future use for it. At the same time, much Big Data processing I&rsquo;ve seen is brute-force and costly: hitting a not-very-valuable nut with a giant, expensive sledgehammer.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/11/15/can-we-afford-big-data-or-do-we-need-smart-data/"> &raquo; Continue Reading (about 800 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/11/02/speaking-at-central-virginia-ruby-enthusiasts-nov-13th/">Speaking at Central Virginia Ruby Enthusiasts Nov 13th</a></h1>
        <span class="post-date">Fri, Nov 2, 2012</span>
        I&rsquo;ll speak at the Central Virginia Ruby Enthusiasts group on Nov 13th. The topic is adaptive fault detection in MySQL servers. The techniques apply to any system for which you can measure throughput and concurrency, so come on out and learn how you can get rid of threshold-based monitoring!
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/11/02/speaking-at-central-virginia-ruby-enthusiasts-nov-13th/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/11/01/stored-procedure-debugging-in-mysql/">Stored procedure debugging in MySQL</a></h1>
        <span class="post-date">Thu, Nov 1, 2012</span>
        I was just skimming through the latest &ldquo;Meet the Experts&rdquo; podcast from Oracle, whose topic is debugging stored routines in MySQL. The tl;dr (tl;dl?) version is if you&rsquo;re working with Windows and .NET, you can install a Visual Studio plugin that lets you debug stored routines in the server via the .NET connection libraries. That&rsquo;s pretty nice, for those who are using that platform. The podcast is only a few minutes, so if you&rsquo;re interested, by all means listen to it, or take a look at the documentation.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/11/01/stored-procedure-debugging-in-mysql/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/11/01/using-gos-auto-reconnecting-mysql-client-libraries/">Using Go&#39;s auto-reconnecting MySQL client libraries</a></h1>
        <span class="post-date">Thu, Nov 1, 2012</span>
        I&rsquo;ve been doing a little bit of programming in Go recently, and really enjoying it. It&rsquo;s an awesome language with really solid libraries. It reminds me a lot of the .NET framework in that it&rsquo;s well-thought-out, but the Go language itself is a lot smaller, less formal, and a lot more expressive than I ever found C# to be. And that&rsquo;s saying a lot &ndash; C# was my previous favorite language, along with the occasional Java, C++, Python, JavaScript, and &ndash; gasp &ndash; Visual Basic 6.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/11/01/using-gos-auto-reconnecting-mysql-client-libraries/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/10/30/status-versus-configuration-variables/">Status versus configuration variables</a></h1>
        <span class="post-date">Tue, Oct 30, 2012</span>
        MySQL&rsquo;s SHOW STATUS and SHOW VARIABLES commands (or queries against the corresponding INFORMATION_SCHEMA tables) don&rsquo;t always show what they say. In particular, SHOW STATUS contains several rows that aren&rsquo;t status-related, but are really configuration variables in my opinion (and it is an opinion &ndash; sometimes the difference isn&rsquo;t black and white).
Here&rsquo;s a short list of some status counters that I think are really better off as configuration variables:
 Innodb_page_size Replica_heartbeat_period Ssl_cipher Ssl_cipher_list Ssl_ctx_verify_depth Ssl_ctx_verify_mode Ssl_default_timeout Ssl_session_cache_mode Ssl_verify_depth Ssl_verify_mode Ssl_version  Most of those are legacy, but Replica_heartbeat_period is a recent addition.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/10/30/status-versus-configuration-variables/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/10/30/the-average-age-of-metrics-being-trended/">The average age of metrics being trended</a></h1>
        <span class="post-date">Tue, Oct 30, 2012</span>
        Last night I wrote about trending data with a moving average, and then after I went to bed, I realized I made a mistake on the chart I showed. I calculated &alpha; for the exponentially weighted moving average so that the average age of metrics approaches 60 samples as time approaches infinity, and I plotted that on the same chart with a 60-sample simple moving average.
I&rsquo;ve made this mistake several times before.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/10/30/the-average-age-of-metrics-being-trended/"> &raquo; Continue Reading (about 400 words)</a></p>
      </div>
  
</div>


<div class="pagination">
  
    <a class="pagination-item newer" href="/categories/databases/page/3/">Newer</a>
  
  
    <a class="pagination-item older" href="/categories/databases/page/5/">Older</a>
  
</div>



      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>


<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

  _st('install','Dq2t2TnFxXxWs_y9hi1k');
</script>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-101883-1', 'auto');
  ga('send', 'pageview');

</script>



  </body>
</html>

