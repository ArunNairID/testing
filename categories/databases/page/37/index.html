<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width">

  <title>
    
      Databases &middot; Baron Schwartz&#39;s Blog
    
  </title>

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  
  <meta name="og:title" content="Databases" />
  <meta name="og:type" content="article" />
  <meta name="og:image" content="https://www.xaprb.com/" />
  <meta name="og:description" content="" />
  <meta name="og:url" content="https://www.xaprb.com/categories/databases/" />
  <meta name="og:site_name" content="Baron Schwartz&#39;s Blog" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@xaprb" />

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/index.xml">

  
  <link rel="canonical" href="https://www.xaprb.com/categories/databases/">
  

  <script type="text/javascript" src='//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
</head>


  <body class="layout-reverse sidebar-overlay">

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
	  <p>Baron Schwartz&#39;s Blog &middot; Stay Curious!</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>
    <a class="sidebar-nav-item" href="/blog/">Posts</a>
    
        <a class="sidebar-nav-item" href="/about/">About Baron Schwartz</a>
    
        <a class="sidebar-nav-item" href="/essential-books/">Essential Books</a>
    
        <a class="sidebar-nav-item" href="/rx-toolkit/">Regex Toolkit</a>
    
        <a class="sidebar-nav-item" href="/blog/2013/12/18/secure-your-accounts-and-devices/">Staying Secure Online</a>
    
        <a class="sidebar-nav-item" href="/blog/2013/07/10/ultimate-notebook-and-journal-face-off/">The Ultimate Notebook</a>
    
        <a class="sidebar-nav-item" href="/blog/2015/03/07/ultimate-pen-marker-face-off/">The Ultimate Pen</a>
    
  </nav>

  <div class="sidebar-item">
	  <p>&copy; 2016 Baron Schwartz.
	  <br><a href="/index.xml">RSS Feed</a>, <a href="/about/">Contact</a>.<br>
	 <br>Powered by <a href="http://hugo.spf13.com">Hugo</a>,
	  <a href="https://www.netlify.com/">Netlify</a>,
	  <a href="https://forestry.io/">Forestry</a>,
	  <a href="https://github.com/xaprb/xaprb-src/">GitHub</a>,
	  <a href="https://disqus.com">Disqus</a>,
	  <a href="https://swiftype.com/">Swiftype</a>.
	</p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Baron Schwartz&#39;s Blog</a>
          </h3>
        </div>
      </div>

      <div class="container content">


<div class="posts">
	
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/09/12/type-conversion-semantics-of-mysqls-between-operator/">Type conversion semantics of MySQL&#39;s BETWEEN operator</a></h1>
        <span class="post-date">Tue, Sep 12, 2006</span>
        I got bitten by an implicit type conversion with MySQL recently. This article is about avoiding implicit type conversions, and the weird places you might find them.
Introduction Here&rsquo;s the setup: I was trying to select every day in the current month. Have you read my article about how stringifying dates is faster than comparing them as dates? At the time I wrote this query, I was experimenting with such things after seeing my co-workers do it a lot, for example, taking the left ten characters of a timestamp column to get the date part of it.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/09/12/type-conversion-semantics-of-mysqls-between-operator/"> &raquo; Continue Reading (about 800 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/09/07/duplicate-index-checker-improved/">Duplicate index checker improved</a></h1>
        <span class="post-date">Thu, Sep 7, 2006</span>
        I&rsquo;ve just improved the MySQL duplicate index checker I whipped together a few days ago. As I guessed, my hasty coding left some things to be desired. I&rsquo;ve fixed some bugs, added support for finding duplicate foreign keys, and switched to a command-line parsing library that comes standard with Perl, so it&rsquo;s more convenient to run without needing to fetch modules from CPAN.
You can download it from the original article.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/09/07/duplicate-index-checker-improved/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/09/05/version-01149-of-innotop-released/">Version 0.1.149 of innotop released</a></h1>
        <span class="post-date">Tue, Sep 5, 2006</span>
        Version 0.1.149 of the innotop MySQL and InnoDB monitor is a major upgrade. As of this version I&rsquo;m declaring innotop &ldquo;stable,&rdquo; meaning I&rsquo;ve put some work into making it deal with unexpected input. It should be very resistant to any sort of crash now.
I originally made it intolerant of unexpected input, because the output of SHOW INNODB STATUS varies so much and was never designed for parsability. Making it die when it couldn&rsquo;t parse something let me know there was a problem, but it caused many of you pain when you couldn&rsquo;t keep it running reliably.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/09/05/version-01149-of-innotop-released/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/09/04/a-review-of-the-glom-graphical-database-front-end/">A review of the Glom graphical database front-end</a></h1>
        <span class="post-date">Mon, Sep 4, 2006</span>
        Glom is an interesting graphical database front-end I&rsquo;ve been meaning to try out for some time. Someone asked about graphical database front-ends on the #mysql IRC channel recently, and that prompted me to install Glom and learn how to use it. My overall impressions? It lands squarely in the middle of its target audience&rsquo;s needs, but still has a quirk here and there. With a bit of polish it will be a fine product, and it&rsquo;s already a winner over Microsoft Access and Filemaker, two similar programs with which you might be familiar.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/09/04/a-review-of-the-glom-graphical-database-front-end/"> &raquo; Continue Reading (about 5100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/08/28/how-to-find-duplicate-and-redundant-indexes-in-mysql/">How to find duplicate and redundant indexes in MySQL</a></h1>
        <span class="post-date">Mon, Aug 28, 2006</span>
        Peter Zaitsev over at the excellent MySQL Performance Blog recently wrote an article on duplicated and redundant indexes &ndash; any indexes which cover exactly the same columns as another index, or cover a leftmost prefix of another index. While there are subtleties, such as FULLTEXT indexes not being the same as non-FULLTEXT, for the most part this is sufficient criteria to raise possible duplicates to a DBA&rsquo;s attention. I opened my big mouth in the comments and said I could write a quick Perl script to discover possible offenders in just a few lines of code.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/08/28/how-to-find-duplicate-and-redundant-indexes-in-mysql/"> &raquo; Continue Reading (about 1000 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/08/27/if-you-only-learn-one-thing-about-database-transactions-it-should-be-this/">If you only learn one thing about database transactions, it should be this</a></h1>
        <span class="post-date">Sun, Aug 27, 2006</span>
        I&rsquo;ve been writing a lot of articles about locks, deadlocks, and transactions recently, and it occurs to me I&rsquo;ve neglected to mention the single most important thing to know. If you only learn one thing about transactions in database systems, you should learn this, and learn it thoroughly &ndash; burn it into your brain permanently, if possible.
The single most important thing you can do is keep your transactions as small as possible.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/08/27/if-you-only-learn-one-thing-about-database-transactions-it-should-be-this/"> &raquo; Continue Reading (about 800 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/08/22/mysqls-error-1025-explained/">MySQL&#39;s ERROR 1025 explained</a></h1>
        <span class="post-date">Tue, Aug 22, 2006</span>
        MySQL issues a cryptic error message, &ldquo;Error on rename,&rdquo; when you try to alter a table in such a way that it would break a foreign key constraint:
create table test1(a int not null primary key)engine=innodb; create table test2(a int not null, foreign key(a) references test1 (a)) engine=innodb; alter table test2 modify a smallint not null; ERROR 1025 (HY000): Error on rename of './test/#sql-2fa8_1' to './test/test2' (errno: 150) This happens because ALTER TABLE really works by making a copy of the table, then renaming to move the old table out of the way and move the new table into its place.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/08/22/mysqls-error-1025-explained/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/08/19/version-01146-of-innotop-released/">Version 0.1.146 of innotop released</a></h1>
        <span class="post-date">Sat, Aug 19, 2006</span>
        I&rsquo;ve released version 0.1.146 of the innotop MySQL and InnoDB monitor.
I re-arranged some information to be more compact and readable in this version, but there isn&rsquo;t really much new functionality. This is mostly a bug-fix release to prevent crashes when innotop encounters unexpected information, or doesn&rsquo;t find some information it expects to exist. It&rsquo;s still very much beta software, so it may die unexpectedly. See this article about what information I need to debug and fix crashes.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/08/19/version-01146-of-innotop-released/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/08/18/role-based-access-control-in-sql-part-2/">Role-based access control in SQL, part 2</a></h1>
        <span class="post-date">Fri, Aug 18, 2006</span>
        This is my second article on how to build a role-based access control system in SQL. In the first article I gave a high-level overview of access control systems in general, especially in the web-application context, and talked about how some Access Control Lists (ACLs) are implemented. I introduced the problems I designed my system to solve, and gave a roadmap for where this series of articles will end. I finished that article with a sketch of some basics to provide row-level read, write, and delete access control.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/08/18/role-based-access-control-in-sql-part-2/"> &raquo; Continue Reading (about 4700 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/08/16/how-to-build-role-based-access-control-in-sql/">How to build role-based access control in SQL</a></h1>
        <span class="post-date">Wed, Aug 16, 2006</span>
        The posts I&rsquo;ve been reading and writing recently have reminded me how Object-Relational Mapping (ORM) systems make it fun and convenient to interact with databases. For some of the reasons they&rsquo;re a developer&rsquo;s favorite, they can be a database administrator&rsquo;s nightmare (think surrogate keys). But designing tables with a consistent set of columns has its benefits. Just because the columns are meta-data that have no intrinsic meaning doesn&rsquo;t mean they have no value.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/08/16/how-to-build-role-based-access-control-in-sql/"> &raquo; Continue Reading (about 3900 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/08/15/how-to-reverse-a-sequence-in-sql/">How to reverse a sequence in SQL</a></h1>
        <span class="post-date">Tue, Aug 15, 2006</span>
        I wrote an article a while back about how to order updates in MySQL so you don&rsquo;t violate a unique index. I said I&rsquo;d write another article on how to swap numbers in a sequence with a unique index. This is that article, but I&rsquo;m going to make it a little more generic: how to reverse a (possibly ordered) sequence.
I&rsquo;ve been thinking about this for a while, wondering if there&rsquo;s a way I can do it in-place in one statement (I like to pile challenge upon difficulty).
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/08/15/how-to-reverse-a-sequence-in-sql/"> &raquo; Continue Reading (about 900 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/08/13/four-types-of-database-abstraction-layers/">Four types of database abstraction layers</a></h1>
        <span class="post-date">Sun, Aug 13, 2006</span>
        Quite a few people have chimed in on a recent discussion about PHP, MySQL, database abstraction layers, and performance. I think enough viewpoints have been covered that I don&rsquo;t need to comment, but one question I don&rsquo;t see answered is &ldquo;what are the qualities of a good SQL abstraction layer?&rdquo; I think it&rsquo;s a very interesting &ndash; and complicated &ndash; question. As it turns out, the term has several meanings, and I think it&rsquo;s important to understand them.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/08/13/four-types-of-database-abstraction-layers/"> &raquo; Continue Reading (about 2300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/08/12/how-to-monitor-mysql-status-and-variables-with-innotop/">How to monitor MySQL status and variables with innotop</a></h1>
        <span class="post-date">Sat, Aug 12, 2006</span>
        This is one in a series of articles on how to use innotop, a MySQL and InnoDB monitor. In this article I&rsquo;ll explain how innotop can make it much easier to collect useful information from SHOW STATUS and SHOW VARIABLES into one place. There are three modes in innotop that do this in different ways, so one of them may meet your needs.
 Note: VividCortex is the startup I founded in 2012.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/08/12/how-to-monitor-mysql-status-and-variables-with-innotop/"> &raquo; Continue Reading (about 1500 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/08/10/how-to-use-order-by-and-limit-on-multi-table-updates-in-mysql/">How to use ORDER BY and LIMIT on multi-table updates in MySQL</a></h1>
        <span class="post-date">Thu, Aug 10, 2006</span>
        One of my colleagues recently redesigned a system for scheduling work, and needed to write a multiple-table UPDATE with ORDER BY and LIMIT, neither of which is supported for multiple-table UPDATE in MySQL. This article explains how to do it anyway, and shows how to rewrite a first attempt for hundreds of times better performance.
Introduction Without revealing too much about my employer&rsquo;s internal systems, I want to give a little bit of context.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/08/10/how-to-use-order-by-and-limit-on-multi-table-updates-in-mysql/"> &raquo; Continue Reading (about 800 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/08/10/version-01132-of-innotop-released/">Version 0.1.132 of innotop released</a></h1>
        <span class="post-date">Thu, Aug 10, 2006</span>
        I&rsquo;ve released another version of the innotop MySQL and InnoDB monitor.
It&rsquo;s worth upgrading to this version not only because of the new features, but also because it should handle more special cases without crashing. Of course, if it does crash, I appreciate your help fixing it; see this article about what information I need.
Changes since version 0.1.123 include:
 Fixes to deal with older versions of Perl. Thanks to everyone who helped me find out what was wrong.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/08/10/version-01132-of-innotop-released/"> &raquo; Continue Reading (about 400 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/08/08/how-to-deliberately-cause-a-deadlock-in-mysql/">How to deliberately cause a deadlock in MySQL</a></h1>
        <span class="post-date">Tue, Aug 8, 2006</span>
        Why would you ever want to deliberately cause a deadlock? Sometimes a very large deadlock in MySQL will fill the output of SHOW ENGINE INNODB STATUS until it truncates, so you can&rsquo;t see information about transactions, log and I/O, buffers, and so forth. I know only two solutions to this problem: 1) restart MySQL and 2) cause a small deadlock so the LAST DETECTED DEADLOCK section shrinks to an acceptable size.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/08/08/how-to-deliberately-cause-a-deadlock-in-mysql/"> &raquo; Continue Reading (about 800 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/08/07/how-to-write-multi-table-cross-database-deletes-with-aliases-in-mysql/">How to write multi-table, cross-database deletes with aliases in MySQL</a></h1>
        <span class="post-date">Mon, Aug 7, 2006</span>
        In an earlier article I explored the finer points of multi-table, cross-database deletes in MySQL, but I didn&rsquo;t get it quite right. This article explains the subtleties I&rsquo;ve discovered since then. This is more complex than the MySQL manual documents.
In the earlier article, I wrote
 The solution is not to alias the tables. It&rsquo;s less convenient, but it&rsquo;s the only thing to do sometimes.
 Now I find it is possible to alias the tables, with certain restrictions.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/08/07/how-to-write-multi-table-cross-database-deletes-with-aliases-in-mysql/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/08/05/how-to-give-locking-hints-in-mysql/">How to give locking hints in MySQL</a></h1>
        <span class="post-date">Sat, Aug 5, 2006</span>
        I worked with Microsoft SQL Server 2000 at my previous employer, and was accustomed to explicitly defining the locking mode I wanted, by providing lock hints on queries. MySQL gives less control over locking, but there are ways to control the type of locks a query will acquire. This article explores those techniques.
I&rsquo;ve been trying to learn more about MySQL locks and deadlocks, and have written several articles on the topic recently, so I&rsquo;m keen to hear your feedback.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/08/05/how-to-give-locking-hints-in-mysql/"> &raquo; Continue Reading (about 700 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/08/03/a-little-known-way-to-cause-a-database-deadlock/">A little-known way to cause a database deadlock</a></h1>
        <span class="post-date">Thu, Aug 3, 2006</span>
        A &ldquo;little-known way,&rdquo; I claim, and yet it happens all the time &ndash; precisely because it&rsquo;s little-known. Experts will quickly recognize where I&rsquo;m going to go with this article, but I hope many others in my audience will understand deadlocks more deeply after reading it. I&rsquo;ll use MySQL and InnoDB for illustration purposes, but the scenario this article describes (dramatic music, please!) could happen to you, too! And probably will someday, unless you&rsquo;re one of the elite few (ok, enough drama) who know how to avoid it.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/08/03/a-little-known-way-to-cause-a-database-deadlock/"> &raquo; Continue Reading (about 2200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2006/08/02/how-to-monitor-innodb-lock-waits/">How to monitor InnoDB lock waits</a></h1>
        <span class="post-date">Wed, Aug 2, 2006</span>
        This is one in a series of articles on how to use the innotop MySQL and InnoDB monitor. In this article I show how innotop can display locks that are causing a transaction to wait.
 Note: VividCortex is the startup I founded in 2012. It&rsquo;s the easiest way to monitor what your servers are doing in production. VividCortex offers MySQL performance monitoring and PostgreSQL performance management among many other features.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2006/08/02/how-to-monitor-innodb-lock-waits/"> &raquo; Continue Reading (about 600 words)</a></p>
      </div>
  
</div>


<div class="pagination">
  
    <a class="pagination-item newer" href="/categories/databases/page/36/">Newer</a>
  
  
    <a class="pagination-item older" href="/categories/databases/page/38/">Older</a>
  
</div>



      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>


<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

  _st('install','Dq2t2TnFxXxWs_y9hi1k');
</script>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-101883-1', 'auto');
  ga('send', 'pageview');

</script>



  </body>
</html>

