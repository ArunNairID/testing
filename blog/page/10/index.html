<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width">

  <title>
    
      Blogs &middot; Baron Schwartz&#39;s Blog
    
  </title>

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  
  <meta name="og:title" content="Blogs" />
  <meta name="og:type" content="article" />
  <meta name="og:image" content="https://www.xaprb.com/" />
  <meta name="og:description" content="" />
  <meta name="og:url" content="https://www.xaprb.com/blog/" />
  <meta name="og:site_name" content="Baron Schwartz&#39;s Blog" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@xaprb" />

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/index.xml">

  
  <link rel="canonical" href="https://www.xaprb.com/blog/">
  

  <script type="text/javascript" src='//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
</head>


  <body class="layout-reverse sidebar-overlay">

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
	  <p>Baron Schwartz&#39;s Blog &middot; Stay Curious!</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>
    <a class="sidebar-nav-item" href="/blog/">Posts</a>
    
        <a class="sidebar-nav-item" href="/about/">About Baron Schwartz</a>
    
        <a class="sidebar-nav-item" href="/essential-books/">Essential Books</a>
    
        <a class="sidebar-nav-item" href="/rx-toolkit/">Regex Toolkit</a>
    
        <a class="sidebar-nav-item" href="/blog/2013/12/18/secure-your-accounts-and-devices/">Staying Secure Online</a>
    
        <a class="sidebar-nav-item" href="/blog/2013/07/10/ultimate-notebook-and-journal-face-off/">The Ultimate Notebook</a>
    
        <a class="sidebar-nav-item" href="/blog/2015/03/07/ultimate-pen-marker-face-off/">The Ultimate Pen</a>
    
  </nav>

  <div class="sidebar-item">
	  <p>&copy; 2016 Baron Schwartz.
	  <br><a href="/index.xml">RSS Feed</a>, <a href="/about/">Contact</a>.<br>
	 <br>Powered by <a href="http://hugo.spf13.com">Hugo</a>,
	  <a href="https://www.netlify.com/">Netlify</a>,
	  <a href="https://forestry.io/">Forestry</a>,
	  <a href="https://github.com/xaprb/xaprb-src/">GitHub</a>,
	  <a href="https://disqus.com">Disqus</a>,
	  <a href="https://swiftype.com/">Swiftype</a>.
	</p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Baron Schwartz&#39;s Blog</a>
          </h3>
        </div>
      </div>

      <div class="container content">


<div class="posts">
	
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/10/08/changes-to-innodb-autoextend-coming-in-mysql-5-6/">Changes to InnoDB autoextend coming in MySQL 5.6</a></h1>
        <span class="post-date">Mon, Oct 8, 2012</span>
        I was looking through James Day&rsquo;s post on upcoming changes to MySQL configuration defaults in version 5.6, and one caught my eye in particular: innodb_autoextend_increment changes from 8 to 64MB, and now affects *.ibd files.
I don&rsquo;t see any further documentation on this yet; I assume that&rsquo;s in the works. I&rsquo;m curious how this will actually behave. What will be the initial size of an empty InnoDB table using innodb_file_per_table? There might be some unintended consequences.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/10/08/changes-to-innodb-autoextend-coming-in-mysql-5-6/"> &raquo; Continue Reading (about 400 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/10/03/whats-the-benefit-of-the-cloud/">What&#39;s the benefit of the cloud?</a></h1>
        <span class="post-date">Wed, Oct 3, 2012</span>
        Given that most people don&rsquo;t know what the cloud is, I guess we shouldn&rsquo;t be surprised that most people can&rsquo;t articulate the benefits of cloud computing clearly. I commonly hear &ldquo;Scalability!&rdquo; &ldquo;Easy provisioning!&rdquo; &ldquo;Flexibility!&rdquo; and so on. Of course, all of these are benefits you can get without the cloud. Theo says it pretty well, so I won&rsquo;t belabor that point.
What do you think are the benefits of cloud computing?
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/10/03/whats-the-benefit-of-the-cloud/"> &raquo; Continue Reading (about 200 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/10/02/adaptive-fault-detection-in-mysql-servers/">Adaptive fault detection in MySQL servers</a></h1>
        <span class="post-date">Tue, Oct 2, 2012</span>
        I&rsquo;ve just finished presenting my work on adaptive fault detection at Surge and Percona Live NYC. My slides are embedded below.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/10/02/adaptive-fault-detection-in-mysql-servers/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/09/30/binary-log-checksums-in-mysql-5-6/">Binary log checksums in MySQL 5.6</a></h1>
        <span class="post-date">Sun, Sep 30, 2012</span>
        MySQL 5.6 will have &ldquo;checksums in the binary log,&rdquo; which can be variously described, but one phrase I&rsquo;ve heard a few times is, loosely, that it helps ensure replication integrity. This isn&rsquo;t specific enough to make it clear what it does, and when I&rsquo;ve talked about pt-table-checksum and its purpose (for example, on webinars), people often ask whether pt-table-checksum will be obsoleted by replication checksums in MySQL 5.6. The answer is no, they do completely different things.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/09/30/binary-log-checksums-in-mysql-5-6/"> &raquo; Continue Reading (about 400 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/09/22/estimating-column-cardinality-the-damn-cool-way/">Estimating column cardinality the damn cool way</a></h1>
        <span class="post-date">Sat, Sep 22, 2012</span>
        Have you seen Damn Cool Algorithms: Cardinality Estimation yet? If not, take a few minutes and read through it. Now, what if we try using that approach instead of COUNT(DISTINCT) in MySQL to see how many distinct values there are in a column?
I recently needed this information in real life, and the table is large with many duplicate values. The column is some 32-character hex string, a hash value that represents a session ID.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/09/22/estimating-column-cardinality-the-damn-cool-way/"> &raquo; Continue Reading (about 500 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/09/18/dump-and-reload-innodb-buffer-pool-in-mysql-5-6/">Dump and reload InnoDB buffer pool in MySQL 5.6</a></h1>
        <span class="post-date">Tue, Sep 18, 2012</span>
        After Gavin Towey&rsquo;s recent blog post about Percona Server&rsquo;s buffer pool dump locking the server for the duration of the operation, I thought I should re-examine MySQL 5.6&#8242;s implementation of a similar feature. When InnoDB engineers first announced the feature, I didn&rsquo;t think it was complete enough to serve a DBA&rsquo;s needs fully.
If you&rsquo;re not familiar with this topic, MySQL 5.6 will allow the DBA to save the IDs of the database pages that are in the buffer pool, and reload the pages later.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/09/18/dump-and-reload-innodb-buffer-pool-in-mysql-5-6/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/09/18/my-first-sharded-mysql-application-5-years-later/">My first sharded MySQL application, 5 years later</a></h1>
        <span class="post-date">Tue, Sep 18, 2012</span>
        High Performance MySQL has a long discussion on &ldquo;sharding,&rdquo; examining many options and their benefits and drawbacks. What does sharding look like in the real world?
Years ago I helped shard a MySQL-based application, partitioning its data across multiple database servers. It was already pretty large and significantly complex, so as usual for applications that aren&rsquo;t designed with sharding in mind from day one, a major consideration for sharding was to make the migration strategy workable and minimize the disruption to the application code.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/09/18/my-first-sharded-mysql-application-5-years-later/"> &raquo; Continue Reading (about 600 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/09/17/is-automated-failover-the-root-of-all-evil/">Is automated failover the root of all evil?</a></h1>
        <span class="post-date">Mon, Sep 17, 2012</span>
        Github&rsquo;s recent post-mortem is well worth reading. They had a series of interrelated failures that caused their MySQL servers to become unavailable. The money quote:
 The automated failover of our main production database could be described as the root cause of both of these downtime events. In each situation in which that occurred, if any member of our operations team had been asked if the failover should have been performed, the answer would have been a resounding no.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/09/17/is-automated-failover-the-root-of-all-evil/"> &raquo; Continue Reading (about 400 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/09/14/how-to-free-15gb-of-disk-space-in-a-tenth-of-a-second/">How to free 15GB of disk space in a tenth of a second</a></h1>
        <span class="post-date">Fri, Sep 14, 2012</span>
        One of the MySQL servers I help manage was encountering some problems with a full data directory. It was a bit mysterious, because we couldn&rsquo;t find any files to account for the increased usage. Here are some things we checked:
 A recursive ls -l didn&rsquo;t show any more, or larger, files than usual. Using lsof and looking at the SIZE column didn&rsquo;t either. There were not enough temporary files or tables open (as shown by lsof) to account for the disk space.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/09/14/how-to-free-15gb-of-disk-space-in-a-tenth-of-a-second/"> &raquo; Continue Reading (about 400 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/09/12/what-are-mysqls-deleted-temp-files/">What are MySQL&#39;s deleted temp files?</a></h1>
        <span class="post-date">Wed, Sep 12, 2012</span>
        If you&rsquo;ve ever looked at the lsof or listing of /proc/$pid/fd for a running MySQL server, you&rsquo;ve probably seen files like these:
# ls -l /proc/$(pidof mysqld)/fd/* | grep tmp lrwx------ 1 root root 64 Sep 12 10:21 /proc/17222/fd/18 -&gt; /var/lib/mysql/tmp/ibDOy0eD (deleted) lrwx------ 1 root root 64 Sep 12 10:21 /proc/17222/fd/323 -&gt; /var/lib/mysql/tmp/MLhfWsbz (deleted) lrwx------ 1 root root 64 Sep 12 10:21 /proc/17222/fd/6 -&gt; /var/lib/mysql/tmp/ib65H6A5 (deleted) lrwx------ 1 root root 64 Sep 12 10:21 /proc/17222/fd/7 -&gt; /var/lib/mysql/tmp/ibllu2yi (deleted) lrwx------ 1 root root 64 Sep 12 10:21 /proc/17222/fd/8 -&gt; /var/lib/mysql/tmp/ib9yRYwv (deleted) lrwx------ 1 root root 64 Sep 12 10:21 /proc/17222/fd/9 -&gt; /var/lib/mysql/tmp/ibhUCeRO (deleted)  What are those?
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/09/12/what-are-mysqls-deleted-temp-files/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/09/11/i-always-trip-on-level-ground/">I always trip on level ground</a></h1>
        <span class="post-date">Tue, Sep 11, 2012</span>
        On the lighter side: I&rsquo;ve always had trouble with mysqldump&rsquo;s expected syntax. You know, as the author of a book and all that, you might think I can get this to work. But pretty much every time I run this tool, it humiliates me. Witness:
$ mysqldump --host localhost --password secr3t --all-databases Usage: mysqldump [OPTIONS] database [tables] OR mysqldump [OPTIONS] --databases [OPTIONS] DB1 [DB2 DB3...] OR mysqldump [OPTIONS] --all-databases [OPTIONS] For more options, use mysqldump --help  Alas.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/09/11/i-always-trip-on-level-ground/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/09/07/announcing-innotop-1-9-0/">Announcing innotop 1.9.0</a></h1>
        <span class="post-date">Fri, Sep 7, 2012</span>
        I&rsquo;ve just released innotop version 1.9.0. This version fixes a lot of bugs, makes the tool work better when monitoring dozens of MySQL servers, and adds two new modes: a Health Dashboard and an InnoDB Blockers/Blocked mode.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/09/07/announcing-innotop-1-9-0/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/09/07/measuring-free-space-in-innodbs-global-tablespace/">Measuring free space in InnoDB&#39;s global tablespace</a></h1>
        <span class="post-date">Fri, Sep 7, 2012</span>
        With innodb_file_per_table=1, InnoDB places every table&rsquo;s data and indexes in a separate .ibd file, but there is still a &ldquo;global&rdquo; system tablespace, stored by default in a file named ibdata1. This contains some of each table&rsquo;s data, such as the undo log and insert buffer. If it is fixed-size, you can fill it up and crash the server, as I&rsquo;ve mentioned in a few recent blog posts.
In older versions of MySQL, the SHOW TABLE STATUS command showed the amount of space free in the tablespace as an entry in the Comment column.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/09/07/measuring-free-space-in-innodbs-global-tablespace/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/09/06/detecting-mysql-server-problems-automatically/">Detecting MySQL server problems automatically</a></h1>
        <span class="post-date">Thu, Sep 6, 2012</span>
        I previously blogged about work I was doing on automatically finding problems in a MySQL server, with no hardcoded thresholds or predetermined indicators of what is &ldquo;bad behavior.&rdquo; I had to pause my studies on that for a while, due to time constraints. I&rsquo;ve recently been able to resume and I&rsquo;m happy to report that I&rsquo;m making good progress.
One of the things I&rsquo;ve done is a survey of existing literature on this subject.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/09/06/detecting-mysql-server-problems-automatically/"> &raquo; Continue Reading (about 300 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/09/05/whats-your-opinion-of-high-performance-mysql/">What&#39;s your opinion of High Performance MySQL?</a></h1>
        <span class="post-date">Wed, Sep 5, 2012</span>
        The second edition of High Performance MySQL has 27 reviews on Amazon, but the third edition only has 5 so far. By this point I assume many of you have a copy and have read it cover to cover. I&rsquo;d really appreciate your reviews &ndash; when purchasing, people look not only at the star rating but at the number of reviews. You can create a review here. And thanks!
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/09/05/whats-your-opinion-of-high-performance-mysql/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/09/04/staying-out-of-mysqls-danger-zone/">Staying out of MySQL&#39;s danger zone</a></h1>
        <span class="post-date">Tue, Sep 4, 2012</span>
        MySQL is a great database server. It has lots of flaws, but if you work with its strong points and try to minimize its weaknesses, it works fantastically well for a lot of use cases. Unfortunately, if you bang on its weak points, sometimes you get hit by falling bricks.
A couple of its riskiest weak points relate to unavailability of an expected resource, particularly disk space and memory. For example, Stewart Smith has blogged about the interesting results you can get if you intentionally make malloc() fail.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/09/04/staying-out-of-mysqls-danger-zone/"> &raquo; Continue Reading (about 700 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/09/03/what-should-a-dba-do/">What should a DBA do?</a></h1>
        <span class="post-date">Mon, Sep 3, 2012</span>
        I was thinking recently about what a DBA does, and decided to blog about what I think a DBA could/should do. Most DBAs I know are mired in day-to-day firefighting and time-consuming tedium. This forces them to operate in reactive mode (because they don&rsquo;t have enough time to &ldquo;get caught up&rdquo;), and keeps them from more valuable things they could be doing. Here&rsquo;s my short and incomplete list:
 Working with the developers (programmers) to help architect upcoming projects.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/09/03/what-should-a-dba-do/"> &raquo; Continue Reading (about 500 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/08/31/dealing-with-deadlocks-in-a-busy-mysql-server/">Dealing with deadlocks in a busy MySQL server</a></h1>
        <span class="post-date">Fri, Aug 31, 2012</span>
        The servers I help manage have a lot of deadlocks, especially around a few central tables that are important to many business functions. The queries against them are complex, and they crunch a lot of data in some cases. As a result, we have long-running transactions that often deadlock against others, and there are even many short-running jobs that touch only a single row at a time that can&rsquo;t get their work done sometimes.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/08/31/dealing-with-deadlocks-in-a-busy-mysql-server/"> &raquo; Continue Reading (about 600 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/08/28/debugging-metadata-locking-in-mysql-5-5/">Debugging metadata locking in MySQL 5.5</a></h1>
        <span class="post-date">Tue, Aug 28, 2012</span>
        MySQL 5.1 added a long-needed feature: INFORMATION_SCHEMA tables for inspecting locks held and waited-for inside of InnoDB. With this addition, it became possible to figure out who is blocking whom.
MySQL 5.5 changed a lot more things inside the server. One of the new features is improved metadata locking. This solves a lot of inconsistencies and bugs that were previously possible. The output of SHOW PROCESSLIST is also changed; instead of the venerable Locked status, there are more fine-grained status indicators such as Waiting for table metadata lock.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/08/28/debugging-metadata-locking-in-mysql-5-5/"> &raquo; Continue Reading (about 400 words)</a></p>
      </div>
  
      <div class="post">
        <h1 class="post-title"><a href="https://www.xaprb.com/blog/2012/08/28/mysql-kill-could-be-so-much-more-exciting/">MySQL kill could be so much more exciting</a></h1>
        <span class="post-date">Tue, Aug 28, 2012</span>
        When I kill a query or connection, whoever is running it gets a boring message about what happens. Wouldn&rsquo;t it be fun and useful to be able to specify the error message the user should see? Imagine the possibilities:
 mysql KILL 10282, "Sorry, no cigar today. Try again tomorrow."  Joking aside, relevant error messages would be great for all involved.
		  <p style="text-align:right"><a href="https://www.xaprb.com/blog/2012/08/28/mysql-kill-could-be-so-much-more-exciting/"> &raquo; Continue Reading (about 100 words)</a></p>
      </div>
  
</div>


<div class="pagination">
  
    <a class="pagination-item newer" href="/blog/page/9/">Newer</a>
  
  
    <a class="pagination-item older" href="/blog/page/11/">Older</a>
  
</div>



      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>


<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

  _st('install','Dq2t2TnFxXxWs_y9hi1k');
</script>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-101883-1', 'auto');
  ga('send', 'pageview');

</script>



  </body>
</html>

