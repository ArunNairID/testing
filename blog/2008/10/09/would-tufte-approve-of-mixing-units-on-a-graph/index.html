<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width">

  <title>
    
      Would Tufte approve of mixing units on a graph? &middot; Baron Schwartz&#39;s Blog
    
  </title>

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  
  <meta name="og:title" content="Would Tufte approve of mixing units on a graph?" />
  <meta name="og:type" content="article" />
  <meta name="og:image" content="https://www.xaprb.com/" />
  <meta name="og:description" content="" />
  <meta name="og:url" content="https://www.xaprb.com/blog/2008/10/09/would-tufte-approve-of-mixing-units-on-a-graph/" />
  <meta name="og:site_name" content="Baron Schwartz&#39;s Blog" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@xaprb" />

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/index.xml">

  
  <link rel="canonical" href="https://www.xaprb.com/blog/2008/10/09/would-tufte-approve-of-mixing-units-on-a-graph/">
  

  <script type="text/javascript" src='//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
</head>


  <body class="layout-reverse sidebar-overlay">

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
	  <p>Baron Schwartz&#39;s Blog &middot; Stay Curious!</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>
    <a class="sidebar-nav-item" href="/blog/">Posts</a>
    
        <a class="sidebar-nav-item" href="/about/">About Baron Schwartz</a>
    
        <a class="sidebar-nav-item" href="/essential-books/">Essential Books</a>
    
        <a class="sidebar-nav-item" href="/rx-toolkit/">Regex Toolkit</a>
    
        <a class="sidebar-nav-item" href="/blog/2013/12/18/secure-your-accounts-and-devices/">Staying Secure Online</a>
    
        <a class="sidebar-nav-item" href="/blog/2013/07/10/ultimate-notebook-and-journal-face-off/">The Ultimate Notebook</a>
    
        <a class="sidebar-nav-item" href="/blog/2015/03/07/ultimate-pen-marker-face-off/">The Ultimate Pen</a>
    
  </nav>

  <div class="sidebar-item">
	  <p>&copy; 2016 Baron Schwartz.
	  <br><a href="/index.xml">RSS Feed</a>, <a href="/about/">Contact</a>.<br>
	 <br>Powered by <a href="http://hugo.spf13.com">Hugo</a>,
	  <a href="https://www.netlify.com/">Netlify</a>,
	  <a href="https://forestry.io/">Forestry</a>,
	  <a href="https://github.com/xaprb/xaprb-src/">GitHub</a>,
	  <a href="https://disqus.com">Disqus</a>,
	  <a href="https://swiftype.com/">Swiftype</a>.
	</p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Baron Schwartz&#39;s Blog</a>
          </h3>
        </div>
      </div>

      <div class="container content">


<div class="post">
  <h1 class="post-title">Would Tufte approve of mixing units on a graph?</h1>
  <span class="post-date">Thu, Oct 9, 2008 in
		
		<a href="/categories/monitoring" class="btn btn-primary">Monitoring</a>
		
		<a href="/categories/databases" class="btn btn-primary">Databases</a>
		
		<a href="/categories/programming" class="btn btn-primary">Programming</a>
		
		<span class="share-buttons">
	<a href="https://twitter.com/intent/tweet?source=https%3a%2f%2fwww.xaprb.com%2fblog%2f2008%2f10%2f09%2fwould-tufte-approve-of-mixing-units-on-a-graph%2f&text=Would%20Tufte%20approve%20of%20mixing%20units%20on%20a%20graph%3f:https%3a%2f%2fwww.xaprb.com%2fblog%2f2008%2f10%2f09%2fwould-tufte-approve-of-mixing-units-on-a-graph%2f" target="_blank" title="Tweet"><i class="fa fa-twitter-square fa-lg"></i></a>
	<a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.xaprb.com%2fblog%2f2008%2f10%2f09%2fwould-tufte-approve-of-mixing-units-on-a-graph%2f&title=Would%20Tufte%20approve%20of%20mixing%20units%20on%20a%20graph%3f&summary=Would%20Tufte%20approve%20of%20mixing%20units%20on%20a%20graph%3f&source=https%3a%2f%2fwww.xaprb.com%2fblog%2f2008%2f10%2f09%2fwould-tufte-approve-of-mixing-units-on-a-graph%2f" target="_blank" title="Share on LinkedIn"><i class="fa fa-linkedin-square fa-lg"></i></a>
	<a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.xaprb.com%2fblog%2f2008%2f10%2f09%2fwould-tufte-approve-of-mixing-units-on-a-graph%2f&t=Would%20Tufte%20approve%20of%20mixing%20units%20on%20a%20graph%3f" target="_blank" title="Share on Facebook"><i class="fa fa-facebook-square fa-lg"></i></a>
	<a href="https://plus.google.com/share?url=https%3a%2f%2fwww.xaprb.com%2fblog%2f2008%2f10%2f09%2fwould-tufte-approve-of-mixing-units-on-a-graph%2f" target="_blank" title="Share on Google+"><i class="fa fa-google-plus-square fa-lg"></i></a>
</span>

  </span>
  <p>I&rsquo;ve created a set of <a href="http://code.google.com/p/mysql-cacti-templates/">Cacti templates for graphing stats about MySQL</a>. While these were based on several other people&rsquo;s work, there are many improvements. One of them in particular I want to bring up, and I&rsquo;ll go so far as to say it ought to be a &ldquo;best practice&rdquo; for graphing. That is, don&rsquo;t mix units on a graph.</p>

<blockquote>
<p><a href="https://vividcortex.com/">VividCortex</a> is the startup I founded in 2012. It&rsquo;s the easiest way to monitor what
your servers are doing in production and I consider it far superior to Cacti. VividCortex offers <a href="https://vividcortex.com/monitoring/mysql/">MySQL performance
monitoring</a> and <a href="https://vividcortex.com/monitoring/postgres/">PostgreSQL
performance management</a> among many
other features.</p>
</blockquote>

<p></p>

<p>In the simplest terms, this means that just because things are related doesn&rsquo;t mean they belong together. I made an effort to separate things onto different graphs when they have different units. For example, the query cache metrics don&rsquo;t all belong together. There are memory metrics, there are block metrics, and there are metrics about queries. If you jam them all together, the differences in the units will cause various graphs to obliterate each other. Some values are much larger than others, and that&rsquo;ll cause some values to be minuscule on the graph.</p>

<p>The graph templates that inspired me to create mine mashed them all together and then scaled things <a href="http://www.xkcd.com/485/">logarithmically</a> to compensate for the resulting problems. This does not address the root of the matter. By contrast, my templates split them apart, so all the things whose unit is &ldquo;query&rdquo; are on one graph together. Then I looked at the remaining stats (units: blocks and units: bytes) and decided that in the interest of not having way too many graphs, I&rsquo;d put them together. I&rsquo;m still not sure this was a great idea, and I have a nagging Tufte voice in my head. Anyway, I tried to strike a balance in this specific case, but in general I kept things separate.</p>

<p>One of the great things about Cacti is that you can graph whatever you want. You can graph the temperature on your server&rsquo;s hard drives, or the Dow Jones Industrial Average, or whatever. So you can have a single graphing solution for your whole company&rsquo;s needs. By contrast, MySQL Enterprise Monitor is focused on a single purpose. So it should do a really good job at it, right? Actually, no, they get it wrong too &ndash; they mix units. Here you can see exactly the effect I&rsquo;m talking about; one value can obliterate the other. (You get points if you guess what&rsquo;s going on in this graph.)</p>

<div id="attachment_608" class="wp-caption aligncenter" style="width: 310px">
  <a href="/media/2008/10/mysql-enterprise-monitor-query-cache.png"><img src="/media/2008/10/mysql-enterprise-monitor-query-cache-300x121.png" alt="MySQL Enterprise Monitor Query Cache Graph" title="mysql-enterprise-monitor-query-cache" width="300" height="121" class="size-medium wp-image-608" /></a><p class="wp-caption-text">
    MySQL Enterprise Monitor Query Cache Graph
  </p>
</div>

<p>I&rsquo;ve tried to make the Cacti templates for MySQL as useful as possible, and judging by the graphs I see on client sites (these templates are quite popular, independent of me or my employer) they do a pretty good job. There&rsquo;s still room for improvement, though. I&rsquo;m adding more carefully selected bits of information into the graphs, and making them more robust to deal with bizarre errors that happen in real life. And of course, always finding new ways to work around the limitations of PHP and Cacti, both of which have their quirks.</p>

<p>Are there wishes you have for these graphs, too? If so, <a href="http://code.google.com/p/mysql-cacti-templates/issues/list">submit an issue report on the Google Code project</a>. Just don&rsquo;t ask me to graph unrelated things together, OK?</p>

<p>PS: sometimes things with the same units are still much bigger or smaller than each other. That&rsquo;s why my templates always print out the values in numbers along the bottom of the graph, so you can see the magnitude of the values, not just look at the lines.</p>
  <hr>
  <p><em>I'm Baron Schwartz, the founder and CEO of <a href="https://vividcortex.com/">VividCortex</a>. I am the author of High
  Performance MySQL and lots of open-source software for performance analysis, monitoring, and system administration.
  I contribute to various database communities such as Oracle, PostgreSQL, Redis and MongoDB. <a href="/about/">More about me.</a></em></p>

<div class="pagination">
  
    <a class="pagination-item newer" href="/blog/2008/10/09/maatkit-thanks-vantage-media/">Newer</a>
  
  
    <a class="pagination-item older" href="/blog/2008/10/04/how-to-check-mysql-replication-integrity-continually/">Older</a>
  
</div>


  
                          <hr>
                        <h2>Comments</h2>
                        <div id="disqus_thread"></div>
                        <script type="text/javascript">
									var disqus_config = function () {
										this.page.url = 'https:\/\/www.xaprb.com\/blog\/2008\/10\/09\/would-tufte-approve-of-mixing-units-on-a-graph\/';
									};
                            (function() {
                                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
										  dsq.src = '//xaprb.disqus.com/embed.js';
                                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                            })();
                        </script>

  
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>


<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

  _st('install','Dq2t2TnFxXxWs_y9hi1k');
</script>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-101883-1', 'auto');
  ga('send', 'pageview');

</script>



  </body>
</html>

